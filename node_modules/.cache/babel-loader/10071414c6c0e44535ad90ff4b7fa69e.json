{"ast":null,"code":"var _jsxFileName = \"/Users/nandupokhrel/Desktop/BookTrades/trademingle/src/components/MyProfile/profile.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React from 'react';\nimport styles from './profile.module.css';\nimport StarIcon from '@material-ui/icons/Star';\nimport Popup from \"reactjs-popup\";\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport api from '../api/api';\nimport Hook from \"./searchHooks\";\nimport swal from 'sweetalert';\nimport TextField from '@material-ui/core/TextField';\nimport FormPasswordReset from './passwordForm';\nimport ProgressBar from 'react-customizable-progressbar';\nimport { useHistory } from 'react-router-dom';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\n\nfunction Profile(props) {\n  _s();\n\n  const history = useHistory();\n\n  const handleOnClick = event => {\n    event.preventDefault();\n    history.goBack();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ArrowBackIcon, {\n    style: {\n      height: 25,\n      width: 50,\n      cursor: \"pointer\"\n    },\n    onClick: handleOnClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 43\n    }\n  }), props.firstName, \" \", props.lastName), localStorage.getItem('usertype') === 'Contractor' ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: props.avatar,\n    className: styles.circle,\n    style: {\n      height: 80,\n      width: 80\n    },\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.jobsdone,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }\n  }, props.jobsdone), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.rating,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(StarIcon, {\n    className: styles.Vector,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 46\n    }\n  }), props.rating), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.jobsdone2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, \"Jobs done\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.rating2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  }, \"Rating\")) : /*#__PURE__*/React.createElement(\"img\", {\n    src: props.avatar,\n    className: styles.circle,\n    style: {\n      height: 130,\n      width: 130\n    },\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 14\n    }\n  }), /*#__PURE__*/React.createElement(Popup, {\n    trigger: /*#__PURE__*/React.createElement(\"button\", {\n      className: styles.editbutton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 29\n      }\n    }, \" Edit Profile\"),\n    modal: true,\n    contentStyle: contentStyle2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, close => /*#__PURE__*/React.createElement(EditProfile, {\n    props: props,\n    close: close,\n    onChange: props.onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.downloadAppText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \"Please download our app from here or browse from desktop to edit your profile and for better experience.\"));\n}\n\n_s(Profile, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c = Profile;\n;\n\nfunction EditProfile(props) {\n  _s2();\n\n  let [clientId, setClientId] = React.useState({});\n  let [imageSrc, setImageSrc] = React.useState(props.props.avatar);\n  let [videoSrc, setVideoSrc] = React.useState(null);\n  let [progressOn, setProgressOn] = React.useState(false);\n  let [progressVal, setProgressVal] = React.useState(0);\n  let image;\n  let video;\n  let progressClose;\n\n  const handleSubmit = () => {\n    console.log(clientId);\n\n    const jobCallback = data => {\n      if (data.type === 'SUCCESS') {\n        {\n          props.onChange();\n        }\n        swal({\n          title: \"Updated!\",\n          text: \"Profile has been successfully updated!\",\n          icon: \"success\",\n          button: \"OK\"\n        });\n        {\n          props.close();\n        } // window.location.reload(false);\n      } else if (data.type === 'PROGRESS') {\n        console.log(\"PROGRESS: \" + data.value);\n        setProgressOn(true);\n        setProgressVal(100 * data.value);\n      }\n    };\n\n    api.patchEditProfile(clientId, jobCallback);\n  };\n\n  const handlePicChange = event => {\n    if (event.type === \"change\") {\n      image = event.target.files[0];\n      clientId['image'] = image;\n      setImageSrc(URL.createObjectURL(event.target.files[0]));\n    }\n  };\n\n  const handleVidChange = event => {\n    console.log('VIDEO');\n\n    if (event.type === \"change\") {\n      video = event.target.files[0];\n      clientId['video'] = video;\n      setVideoSrc(video);\n    }\n  };\n\n  const Skillss = () => {\n    if (localStorage.getItem(\"usertype\") === \"Contractor\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.editName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        className: styles.editfName,\n        noValidate: true,\n        autoComplete: \"off\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }\n      }, \"Other info:\"), /*#__PURE__*/React.createElement(TextField, {\n        id: \"insuranceNumber\",\n        label: \"Insurance Number\",\n        onKeyUp: keyPressed,\n        variant: \"outlined\",\n        defaultValue: props.props.insuranceNumber,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(TextField, {\n        id: \"workerNumber\",\n        label: \"Worker Number\",\n        onKeyUp: keyPressed,\n        variant: \"outlined\",\n        defaultValue: props.props.workerNumber,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.editfName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 25\n        }\n      }, \"Skills:\"), /*#__PURE__*/React.createElement(Hook, {\n        information: clientId,\n        type: \"serviceTypeList\",\n        selected: props.props.services,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }\n      })));\n    } else {\n      return null;\n    }\n  };\n\n  const Password = () => {\n    return /*#__PURE__*/React.createElement(FormPasswordReset, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    });\n  };\n\n  const keyPressed = event => {\n    if (event.target.id === 'firstName' && event.target.value !== clientId.firstName) {\n      clientId.firstName = event.target.value;\n    }\n\n    if (event.target.id === 'lastName' && event.target.value !== clientId.lastName) {\n      clientId.lastName = event.target.value;\n    }\n\n    if (event.target.id === 'insuranceNumber' && event.target.value !== clientId.insuranceNumber) {\n      clientId.insuranceNumber = event.target.value;\n    }\n\n    if (event.target.id === 'workerNumber' && event.target.value !== clientId.workerNumber) {\n      clientId.workerNumber = event.target.value;\n    }\n\n    if (event.target.id === 'password' && event.target.value !== clientId.password) {\n      clientId.password = event.target.value;\n    }\n\n    if (event.target.id === 'rePassword' && event.target.value !== clientId.rePassword) {\n      clientId.rePassword = event.target.value;\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"box\", {\n    className: styles.box,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CloseOutlinedIcon, {\n    style: {\n      height: 40,\n      width: 40\n    },\n    className: styles.cross,\n    onClick: props.close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.editProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, \"Edit Profile\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.circle3,\n    style: {\n      height: 150,\n      width: 150\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: imageSrc,\n    className: styles.circle2,\n    style: {\n      height: 150,\n      width: 150\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.circle3text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }, \"Change Profile Picture\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: styles.profile_pic_input,\n    type: \"file\",\n    onChange: handlePicChange,\n    accept: \"image/*\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  })), videoSrc == null ? /*#__PURE__*/React.createElement(UploadVideoButton, {\n    style: {\n      alignSelf: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      position: \"absolute\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, \"Click here to upload a new video\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: styles.video_upload_input,\n    type: \"file\",\n    onChange: handleVidChange,\n    accept: \"video/*\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }\n  })) : /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      order: 2,\n      alignSelf: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, \"Video: \", videoSrc.name, \" \"), /*#__PURE__*/React.createElement(\"form\", {\n    className: styles.editfName,\n    noValidate: true,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, \"Basic Info:\"), /*#__PURE__*/React.createElement(TextField, {\n    id: \"firstName\",\n    label: \"First Name\",\n    onKeyUp: keyPressed,\n    variant: \"outlined\",\n    defaultValue: props.props.firstName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"lastName\",\n    label: \"Last Name\",\n    onKeyUp: keyPressed,\n    variant: \"outlined\",\n    defaultValue: props.props.lastName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"form\", {\n    className: styles.editfName,\n    noValidate: true,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, \"Change Password:\"), /*#__PURE__*/React.createElement(Popup, {\n    trigger: /*#__PURE__*/React.createElement(FormButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 33\n      }\n    }, \"Click here to update your password\"),\n    modal: true,\n    contentStyle: contentStyle3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }, close => /*#__PURE__*/React.createElement(FormPasswordReset, {\n    close: close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 30\n    }\n  }))), /*#__PURE__*/React.createElement(Skillss, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.editfName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }\n  }, \"Languages:\"), /*#__PURE__*/React.createElement(Hook, {\n    information: clientId,\n    type: \"languageList\",\n    selected: props.props.languages,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.buttons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(BackButton, {\n    className: styles.back,\n    onClick: props.close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(CompleteButton, {\n    className: styles.complete,\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.completeText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 21\n    }\n  }, \"Save\"))), /*#__PURE__*/React.createElement(Popup, {\n    contentStyle: {\n      width: \"inherit\",\n      borderRadius: '50%'\n    },\n    open: progressOn,\n    modal: true,\n    closeOnDocumentClick: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, close => {\n    return /*#__PURE__*/React.createElement(ProgressBar, {\n      radius: 100,\n      progress: progressVal,\n      strokeWidth: 18,\n      strokeColor: \"#5d9cec\",\n      strokeLinecap: \"square\",\n      trackStrokeWidth: 18,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.indicator,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 33\n      }\n    }, Math.round(progressVal), \"%\")));\n  }));\n}\n\n_s2(EditProfile, \"VO+2A9Wop6rTfjrJZCfBpDdJiUM=\");\n\n_c2 = EditProfile;\n;\nconst contentStyle2 = {\n  width: '702px',\n  height: 'auto',\n  background: '#fffFFF',\n  borderRadius: '16px'\n};\nconst contentStyle3 = {\n  width: '700px',\n  height: 'auto',\n  background: '#fffFFF',\n  borderRadius: '16px'\n};\nconst CompleteButton = withStyles(theme => ({\n  root: {\n    borderRadius: 44,\n    backgroundColor: '#2B64D2',\n    '&:hover': {\n      backgroundColor: '#003ba0'\n    },\n    marginLeft: 30\n  }\n}))(Button);\nconst BackButton = withStyles(theme => ({\n  root: {\n    borderRadius: 44,\n    backgroundColor: 'white',\n    border: '1px dotted',\n    '&:hover': {\n      border: \"2px solid #2B64D2\"\n    },\n    marginLeft: 80\n  }\n}))(Button);\nconst FormButton = withStyles(theme => ({\n  root: {\n    width: \"400px\",\n    height: \"40px\",\n    textAlign: \"center\",\n    marginRight: \"80px\",\n    marginTop: \"7px\",\n    backgroundColor: \"white\",\n    border: \"1px solid #2B64D2\",\n    cursor: \"pointer\",\n    borderRadius: \"5px\",\n    '&:hover': {\n      backgroundColor: \"#2B64D2\",\n      color: \"white\"\n    }\n  }\n}))(Button);\nconst UploadVideoButton = withStyles(theme => ({\n  root: {\n    width: \"400px\",\n    height: \"40px\",\n    textAlign: \"center\",\n    order: 2,\n    // marginRight: \"80px\",\n    marginTop: \"7px\",\n    marginBottom: \"7px\",\n    padding: 0,\n    backgroundColor: \"white\",\n    border: \"1px solid #2B64D2\",\n    cursor: \"pointer\",\n    borderRadius: \"5px\",\n    '&:hover': {\n      backgroundColor: \"#2B64D2\",\n      color: \"white\"\n    }\n  }\n}))(Button);\nexport default Profile;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Profile\");\n$RefreshReg$(_c2, \"EditProfile\");","map":{"version":3,"sources":["/Users/nandupokhrel/Desktop/BookTrades/trademingle/src/components/MyProfile/profile.js"],"names":["React","styles","StarIcon","Popup","CloseOutlinedIcon","withStyles","Button","api","Hook","swal","TextField","FormPasswordReset","ProgressBar","useHistory","ArrowBackIcon","Profile","props","history","handleOnClick","event","preventDefault","goBack","header","height","width","cursor","firstName","lastName","localStorage","getItem","avatar","circle","jobsdone","rating","Vector","jobsdone2","rating2","editbutton","contentStyle2","close","onChange","downloadAppText","EditProfile","clientId","setClientId","useState","imageSrc","setImageSrc","videoSrc","setVideoSrc","progressOn","setProgressOn","progressVal","setProgressVal","image","video","progressClose","handleSubmit","console","log","jobCallback","data","type","title","text","icon","button","value","patchEditProfile","handlePicChange","target","files","URL","createObjectURL","handleVidChange","Skillss","editName","editfName","keyPressed","insuranceNumber","workerNumber","services","Password","id","password","rePassword","box","cross","editProfile","circle3","circle2","circle3text","profile_pic_input","alignSelf","position","video_upload_input","order","name","contentStyle3","languages","buttons","back","complete","completeText","borderRadius","indicator","Math","round","background","CompleteButton","theme","root","backgroundColor","marginLeft","BackButton","border","FormButton","textAlign","marginRight","marginTop","color","UploadVideoButton","marginBottom","padding"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styles from './profile.module.css';\nimport StarIcon from '@material-ui/icons/Star'; \nimport Popup from \"reactjs-popup\";\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\nimport { withStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport api from '../api/api';\nimport Hook from \"./searchHooks\";\nimport swal from 'sweetalert';\nimport TextField from '@material-ui/core/TextField';\nimport FormPasswordReset from './passwordForm';\nimport ProgressBar from 'react-customizable-progressbar'\nimport { useHistory} from 'react-router-dom';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\n\n\n\nfunction Profile (props) {\n    const history = useHistory();\n    const handleOnClick = (event) => {\n        event.preventDefault();\n        history.goBack()\n    }\n    return(\n        <div >\n            <h1 className={styles.header}><ArrowBackIcon  style={{height:25, width:50, cursor:\"pointer\"}} onClick={handleOnClick}/>{props.firstName} {props.lastName}</h1>\n            {localStorage.getItem('usertype') === 'Contractor' \n            ?<div>\n                <img src={props.avatar} className={styles.circle} style={{height:80,width:80}} alt=\"\"/>\n                <p className={styles.jobsdone}>{props.jobsdone}</p>\n                <p className={styles.rating}><StarIcon className={styles.Vector}/>{props.rating}</p>\n                <p className={styles.jobsdone2}>Jobs done</p>\n                <p className={styles.rating2}>Rating</p>\n            </div>\n            :<img src={props.avatar} className={styles.circle} style={{height:130,width:130}} alt=\"\"/>\n            }\n            <Popup trigger={<button className={styles.editbutton}> Edit Profile</button>} modal contentStyle={contentStyle2} >\n                {close => <EditProfile props={props} close={close} onChange={props.onChange}/>}\n            </Popup>\n            <p className={styles.downloadAppText}>Please download our app from here or browse from desktop to edit your profile and for better experience.</p>\n        </div>\n    )\n};\n\nfunction EditProfile(props){\n    let [clientId, setClientId]=React.useState({})\n    let [imageSrc, setImageSrc] = React.useState(props.props.avatar);\n    let [videoSrc, setVideoSrc] = React.useState(null);\n    let [progressOn, setProgressOn] = React.useState(false);\n    let [progressVal, setProgressVal] = React.useState(0);\n    let image;\n    let video;\n    let progressClose;\n\n    const handleSubmit = () => {\n        console.log(clientId)\n        const jobCallback= (data)=>{\n            if (data.type === 'SUCCESS'){\n                {props.onChange()}\n                swal({\n                    title: \"Updated!\",\n                    text: \"Profile has been successfully updated!\",\n                    icon: \"success\",\n                    button: \"OK\",\n                });\n                {props.close()}\n                // window.location.reload(false);\n            }else if (data.type === 'PROGRESS'){\n                console.log(\"PROGRESS: \" + data.value)\n                setProgressOn(true);\n                setProgressVal(100*data.value);\n            }\n          }\n        api.patchEditProfile(clientId, jobCallback)\n    }\n\n    const handlePicChange = (event) => {\n        if (event.type === \"change\"){\n            image = event.target.files[0];\n            clientId['image'] = image\n            setImageSrc(URL.createObjectURL(event.target.files[0]));\n        }\n    }\n    const handleVidChange = (event) => {\n        console.log('VIDEO')\n        if (event.type === \"change\"){\n            video = event.target.files[0];\n            clientId['video'] = video\n            setVideoSrc(video);\n        }\n    }\n    const Skillss= () =>{\n        if(localStorage.getItem(\"usertype\") === \"Contractor\"){\n            return(\n                <div className={styles.editName}>\n                    <form className={styles.editfName} noValidate autoComplete=\"off\">\n                        <p>Other info:</p>\n                        <TextField id=\"insuranceNumber\" label=\"Insurance Number\" onKeyUp={keyPressed} variant=\"outlined\" defaultValue={props.props.insuranceNumber}/>\n                        <TextField id=\"workerNumber\" label=\"Worker Number\" onKeyUp={keyPressed} variant=\"outlined\" defaultValue={props.props.workerNumber}/>\n                    </form>\n                    <div  className={styles.editfName}>\n                        <p>Skills:</p>\n                        <Hook information={clientId} type='serviceTypeList' selected={props.props.services}/> \n                    </div>\n                </div>\n            )\n        }\n        else{\n            return(null)\n        }\n    }\n    const Password=()=>{\n        return(\n            <FormPasswordReset />\n        )\n    }\n    const keyPressed = (event) => {\n        if (event.target.id === 'firstName' && event.target.value !== clientId.firstName){\n            clientId.firstName = event.target.value;\n        }\n        if (event.target.id === 'lastName' && event.target.value !== clientId.lastName){\n            clientId.lastName = event.target.value;\n        }\n        if (event.target.id === 'insuranceNumber' && event.target.value !== clientId.insuranceNumber){\n            clientId.insuranceNumber = event.target.value;\n        }\n        if (event.target.id === 'workerNumber' && event.target.value !== clientId.workerNumber){\n            clientId.workerNumber = event.target.value;\n        }\n        if (event.target.id === 'password' && event.target.value !== clientId.password){\n            clientId.password = event.target.value;\n        }\n        if (event.target.id === 'rePassword' && event.target.value !== clientId.rePassword){\n            clientId.rePassword = event.target.value;\n        }\n    }\n    return(\n        <box className={styles.box}>\n            <CloseOutlinedIcon style={{ height: 40, width: 40 }} className={styles.cross} onClick={props.close}/>\n            <h1 className={styles.editProfile}>Edit Profile</h1> \n            <div className={styles.circle3} style={{height:150,width:150}} >\n                <img src={imageSrc} className={styles.circle2} style={{height:150,width:150}}/>\n                <p className={styles.circle3text}>Change Profile Picture</p>\n                <input className={styles.profile_pic_input} type=\"file\" onChange={handlePicChange}  accept=\"image/*\" ></input>\n            </div>\n\n            { videoSrc == null ?\n            <UploadVideoButton style={{alignSelf: \"center\"}}>\n                <p style={{position:\"absolute\"}}>Click here to upload a new video</p>\n                <input  className={styles.video_upload_input} type=\"file\" onChange={handleVidChange}  accept=\"video/*\" />\n            </UploadVideoButton>\n            : <p style={{order:2, alignSelf: \"center\"}} >Video: {videoSrc.name} </p>\n            }\n            <form className={styles.editfName} noValidate autoComplete=\"off\">\n                <p>Basic Info:</p>\n                <TextField id=\"firstName\" label=\"First Name\" onKeyUp={keyPressed} variant=\"outlined\" defaultValue={props.props.firstName}/>\n                <TextField id=\"lastName\" label=\"Last Name\" onKeyUp={keyPressed} variant=\"outlined\" defaultValue={props.props.lastName}/>\n            </form>\n            <form className={styles.editfName} noValidate autoComplete=\"off\">\n                <p>Change Password:</p>\n                <Popup trigger={<FormButton>Click here to update your password</FormButton>} modal contentStyle={contentStyle3} >\n                    {close =><FormPasswordReset close={close}/>}\n                </Popup>\n            </form>\n            <Skillss/>\n            <div  className={styles.editfName}>\n                <p>Languages:</p>\n                <Hook information={clientId} type='languageList' selected={props.props.languages}/> \n            </div>\n            <div className={styles.buttons}>\n                <BackButton className={styles.back} onClick={props.close}> \n                    Cancel\n                </BackButton>\n                <CompleteButton className={styles.complete} onClick={handleSubmit} > \n                    <p className={styles.completeText}>Save</p>\n                </CompleteButton>\n            </div>\n            <Popup contentStyle={{width:\"inherit\", borderRadius:'50%' }} open={progressOn} modal closeOnDocumentClick={false} >\n                {close => {\n                    return(\n                        <ProgressBar\n                            radius={100}\n                            progress={progressVal}\n                            strokeWidth={18}\n                            strokeColor=\"#5d9cec\"\n                            strokeLinecap=\"square\"\n                            trackStrokeWidth={18}\n                        >\n                            <div className={styles.indicator}>\n                                <div>{Math.round(progressVal)}%</div>\n                            </div>\n                        </ProgressBar>\n                    )\n                }}\n            </Popup>\n        </box>\n    )\n};\n\nconst contentStyle2 = {\n    width: '702px',\n    height: 'auto',\n    background: '#fffFFF',\n    borderRadius: '16px', \n};\nconst contentStyle3 = {\n    width: '700px',\n    height: 'auto',\n    background: '#fffFFF',\n    borderRadius: '16px', \n};\nconst CompleteButton = withStyles((theme) => ({\n    root: {\n        borderRadius:44,\n        backgroundColor: '#2B64D2',\n        '&:hover': {\n        backgroundColor: '#003ba0',\n        },\n        marginLeft: 30,\n    },\n}))(Button);\n  \nconst BackButton = withStyles((theme) => ({\n    root: {\n      borderRadius:44,\n      backgroundColor: 'white',\n      border: '1px dotted',\n      '&:hover': {\n        border: \"2px solid #2B64D2\",\n      },\n      marginLeft: 80, \n    },\n}))(Button);\n\nconst FormButton = withStyles((theme) => ({\n    root: {\n        width:\"400px\",\n        height:\"40px\",\n        textAlign: \"center\",\n        marginRight: \"80px\",\n        marginTop: \"7px\",\n        backgroundColor:\"white\",\n        border:\"1px solid #2B64D2\",\n        cursor: \"pointer\",\n        borderRadius: \"5px\",\n        '&:hover': {\n        backgroundColor: \"#2B64D2\",\n        color:\"white\",\n      },\n    },\n}))(Button);\n\nconst UploadVideoButton = withStyles((theme) => ({\n    root: {\n        width:\"400px\",\n        height:\"40px\",\n        textAlign: \"center\",\n        order:2,\n        // marginRight: \"80px\",\n        marginTop: \"7px\",\n        marginBottom: \"7px\",\n        padding: 0,\n        backgroundColor:\"white\",\n        border:\"1px solid #2B64D2\",\n        cursor: \"pointer\",\n        borderRadius: \"5px\",\n        '&:hover': {\n        backgroundColor: \"#2B64D2\",\n        color:\"white\",\n      },\n    },\n}))(Button);\nexport default Profile;"]},"metadata":{},"sourceType":"module"}