{"ast":null,"code":"var _jsxFileName = \"/Users/nandupokhrel/Desktop/BookTrades/trademingle/src/components/SignUp/SUgoogle.js\";\nimport React, { Component } from 'react';\nimport styles from './styles.module.css';\nimport { withRouter } from 'react-router-dom';\nimport * as ROUTES from '../../constants/routes';\nimport { compose } from 'recompose';\nimport glogo from \"./icons/google-icon.svg\";\nimport { withFirebase } from '../Firebase';\n\nclass SignInGoogleBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = event => {\n      this.props.firebase.doSignInWithGoogle().then(socialAuthUser => {\n        this.props.onComplete(socialAuthUser); // debugger;\n        // this.props.history.push(ROUTES.INBOX);\n\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.user.displayName,\n          email: socialAuthUser.user.email,\n          roles: {}\n        });\n      }).then(() => {\n        // debugger;\n        this.setState({\n          error: null\n        });\n        this.props.history.push(ROUTES.HOME);\n      }).catch(error => {\n        this.setState({\n          error\n        });\n      });\n      event.preventDefault();\n    };\n\n    this.state = {\n      error: null\n    };\n  }\n\n  render() {\n    const {\n      error\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: styles.apple,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: glogo,\n      className: styles.logo,\n      alt: 'google',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        marginTop: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, \"Sign Up with Google\")), error && /*#__PURE__*/React.createElement(\"p\", {\n      className: styles.para,\n      style: {\n        color: 'red'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }, error.message));\n  }\n\n}\n\nconst SignInGoogle = compose(withRouter, withFirebase)(SignInGoogleBase);\nexport default SignInGoogle;","map":{"version":3,"sources":["/Users/nandupokhrel/Desktop/BookTrades/trademingle/src/components/SignUp/SUgoogle.js"],"names":["React","Component","styles","withRouter","ROUTES","compose","withFirebase","SignInGoogleBase","constructor","props","onSubmit","event","firebase","doSignInWithGoogle","then","socialAuthUser","onComplete","user","uid","set","username","displayName","email","roles","setState","error","history","push","HOME","catch","preventDefault","state","render","apple","glogo","logo","marginTop","para","color","message","SignInGoogle"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAO,KAAKC,MAAZ,MAAwB,wBAAxB;AACA,SAASC,OAAT,QAAwB,WAAxB;;AAEA,SAASC,YAAT,QAA6B,aAA7B;;AAGA,MAAMC,gBAAN,SAA+BN,SAA/B,CAAyC;AACrCO,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAMnBC,QANmB,GAMRC,KAAK,IAAI;AAClB,WAAKF,KAAL,CAAWG,QAAX,CACGC,kBADH,GAEGC,IAFH,CAEQC,cAAc,IAAI;AACtB,aAAKN,KAAL,CAAWO,UAAX,CAAsBD,cAAtB,EADsB,CAEtB;AACA;;AACA,eAAO,KAAKN,KAAL,CAAWG,QAAX,CACJK,IADI,CACCF,cAAc,CAACE,IAAf,CAAoBC,GADrB,EAEJC,GAFI,CAEA;AACHC,UAAAA,QAAQ,EAAEL,cAAc,CAACE,IAAf,CAAoBI,WAD3B;AAEHC,UAAAA,KAAK,EAAEP,cAAc,CAACE,IAAf,CAAoBK,KAFxB;AAGHC,UAAAA,KAAK,EAAE;AAHJ,SAFA,CAAP;AAOD,OAbH,EAcGT,IAdH,CAcQ,MAAM;AACV;AACA,aAAKU,QAAL,CAAc;AAAEC,UAAAA,KAAK,EAAE;AAAT,SAAd;AACA,aAAKhB,KAAL,CAAWiB,OAAX,CAAmBC,IAAnB,CAAwBvB,MAAM,CAACwB,IAA/B;AACD,OAlBH,EAmBGC,KAnBH,CAmBSJ,KAAK,IAAI;AACd,aAAKD,QAAL,CAAc;AAAEC,UAAAA;AAAF,SAAd;AACD,OArBH;AAuBAd,MAAAA,KAAK,CAACmB,cAAN;AACD,KA/BkB;;AAGjB,SAAKC,KAAL,GAAa;AAAEN,MAAAA,KAAK,EAAE;AAAT,KAAb;AACD;;AA6BDO,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEP,MAAAA;AAAF,QAAY,KAAKM,KAAvB;AAEA,wBACE;AAAM,MAAA,QAAQ,EAAE,KAAKrB,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,SAAS,EAAER,MAAM,CAAC+B,KADpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAK,MAAA,GAAG,EAAEC,KAAV;AAAiB,MAAA,SAAS,EAAEhC,MAAM,CAACiC,IAAnC;AAAyC,MAAA,GAAG,EAAE,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGM;AAAG,MAAA,KAAK,EAAE;AAACC,QAAAA,SAAS,EAAC;AAAX,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAHN,CADF,EAOGX,KAAK,iBAAI;AAAG,MAAA,SAAS,EAAEvB,MAAM,CAACmC,IAArB;AAA2B,MAAA,KAAK,EAAE;AAACC,QAAAA,KAAK,EAAC;AAAP,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkDb,KAAK,CAACc,OAAxD,CAPZ,CADF;AAWD;;AAhDoC;;AAkDvC,MAAMC,YAAY,GAAGnC,OAAO,CAC1BF,UAD0B,EAE1BG,YAF0B,CAAP,CAGnBC,gBAHmB,CAArB;AAKA,eAAeiC,YAAf","sourcesContent":["import React, { Component } from 'react';\nimport styles from './styles.module.css';\nimport { withRouter } from 'react-router-dom';\nimport * as ROUTES from '../../constants/routes';\nimport { compose } from 'recompose';\nimport glogo from './icons/google-icon.svg';\nimport { withFirebase } from '../Firebase';\n\n\nclass SignInGoogleBase extends Component {\n    constructor(props) {\n      super(props);\n   \n      this.state = { error: null };\n    }\n   \n    onSubmit = event => {\n      this.props.firebase\n        .doSignInWithGoogle()\n        .then(socialAuthUser => {\n          this.props.onComplete(socialAuthUser);\n          // debugger;\n          // this.props.history.push(ROUTES.INBOX);\n          return this.props.firebase\n            .user(socialAuthUser.user.uid)\n            .set({\n              username: socialAuthUser.user.displayName,\n              email: socialAuthUser.user.email,\n              roles: {},\n            });\n        })\n        .then(() => {\n          // debugger;\n          this.setState({ error: null });\n          this.props.history.push(ROUTES.HOME);\n        })\n        .catch(error => {\n          this.setState({ error });\n        });\n   \n      event.preventDefault();\n    };\n   \n    render() {\n      const { error } = this.state;\n   \n      return (\n        <form onSubmit={this.onSubmit}>\n          <button\n            className={styles.apple}>\n              <img src={glogo} className={styles.logo} alt={'google'}/>\n                <p style={{marginTop:'20px'}} >Sign Up with Google</p>\n          </button>\n   \n          {error && <p className={styles.para} style={{color:'red'}}>{error.message}</p>}\n        </form>\n      );\n    }\n  }\n  const SignInGoogle = compose(\n    withRouter,\n    withFirebase,\n  )(SignInGoogleBase);\n\n  export default SignInGoogle;"]},"metadata":{},"sourceType":"module"}