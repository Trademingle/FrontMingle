{"ast":null,"code":"var _jsxFileName = \"/Users/nandupokhrel/Desktop/BookTrades/trademingle/src/components/SearchResults/body.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport styles from './search.module.css';\nimport ExploreCard from '../HomeOwnerExplorePage/ExploreCard';\nimport { default as JobCard } from '../ContractorExplorePage/ExploreCard copy';\nimport api from '../api/api';\nimport LoadingView from '../ResuableComponents/loadingView';\nexport default function SearchBody(props) {\n  _s();\n\n  let [Contractors, setContractors] = useState({});\n  const [loading, setLoading] = useState(false);\n\n  const loadContractors = () => {\n    console.log(\"body\", props.information);\n    api.getNearByCProfiles(props.information).then(res => {\n      setContractors(res.data['nearby contractors']);\n      setLoading(false);\n    }).catch(err => console.log(err));\n  };\n\n  const loadJobs = () => {\n    console.log(\"body\", props.information);\n    api.getUnassignedJobs(props.information).then(res => {\n      setContractors(res.data['nearby jobs']);\n      setLoading(false);\n    }).catch(err => console.log(err));\n  };\n\n  useEffect(() => {\n    setLoading(true);\n\n    if (localStorage.getItem('usertype') === \"Contractor\") {\n      loadJobs();\n    } else {\n      loadContractors();\n    }\n  }, [props.information]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(LoadingView, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }\n    });\n  }\n\n  function renderFeaturedContrators() {\n    let i = 0;\n    let contractorCount = Contractors.length;\n    let tempContractors = [];\n\n    while (i < contractorCount) {\n      let data = Contractors[i];\n\n      if (localStorage.getItem('usertype') === \"Contractor\") {\n        let unassignedJob = data;\n        let jobId = unassignedJob.id;\n        let jobTitle = unassignedJob.title;\n        let contractorName = unassignedJob.clientFirstName;\n        let location = unassignedJob.locationDetail;\n        var serviceTypeList = unassignedJob.serviceTypeList;\n        let avatar = unassignedJob.downloadurl[0];\n        let clientId = unassignedJob.clientId;\n        tempContractors.push( /*#__PURE__*/React.createElement(JobCard, {\n          name: jobTitle,\n          id: jobId,\n          Cname: contractorName,\n          location: location,\n          clientId: clientId,\n          avatarPic: avatar,\n          serviceList: serviceTypeList,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 21\n          }\n        }, \" \"));\n      } else {\n        tempContractors.push( /*#__PURE__*/React.createElement(ExploreCard, {\n          avatar: data.downloadurl,\n          className: styles.ContractorCard,\n          contractorId: data.id,\n          name: data.firstName + \" \" + data.lastName,\n          rating: data.averageRating,\n          review: data.numberOfReviews,\n          serviceList: data.serviceTypeList,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }\n        }));\n      }\n\n      i += 1;\n    }\n\n    return tempContractors;\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.sBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, Contractors.length === 0 ? /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 18\n    }\n  }, Contractors.length, \" results\") : /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 18\n    }\n  }, Contractors.length, \" Results\"), /*#__PURE__*/React.createElement(\"box\", {\n    className: styles.explorebox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, renderFeaturedContrators()));\n}\n\n_s(SearchBody, \"3o4sgGqxwvyOUdjlRu6R9qNTZaA=\");\n\n_c = SearchBody;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchBody\");","map":{"version":3,"sources":["/Users/nandupokhrel/Desktop/BookTrades/trademingle/src/components/SearchResults/body.js"],"names":["React","useEffect","useState","styles","ExploreCard","default","JobCard","api","LoadingView","SearchBody","props","Contractors","setContractors","loading","setLoading","loadContractors","console","log","information","getNearByCProfiles","then","res","data","catch","err","loadJobs","getUnassignedJobs","localStorage","getItem","renderFeaturedContrators","i","contractorCount","length","tempContractors","unassignedJob","jobId","id","jobTitle","title","contractorName","clientFirstName","location","locationDetail","serviceTypeList","avatar","downloadurl","clientId","push","ContractorCard","firstName","lastName","averageRating","numberOfReviews","sBody","header","explorebox"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styles from './search.module.css';\nimport ExploreCard from '../HomeOwnerExplorePage/ExploreCard';\nimport {default as JobCard} from '../ContractorExplorePage/ExploreCard copy';\nimport api from '../api/api';\nimport LoadingView from '../ResuableComponents/loadingView';\n\nexport default function SearchBody(props){\n    let [Contractors, setContractors] = useState({});\n    const [loading, setLoading] = useState(false);\n    const loadContractors = () => {\n        console.log(\"body\", props.information);\n        api.getNearByCProfiles(props.information).then(res => {\n          setContractors(res.data['nearby contractors']);\n          setLoading(false);\n        }).catch(err => console.log(err))\n    }\n\n    const loadJobs = () => {\n        console.log(\"body\", props.information);\n        api.getUnassignedJobs(props.information).then(res => {\n          setContractors(res.data['nearby jobs']);\n          setLoading(false);\n        }).catch(err => console.log(err))\n    }\n    useEffect(() => {\n        setLoading(true);\n        if (localStorage.getItem('usertype')=== \"Contractor\"){\n            loadJobs();\n        }else{\n            loadContractors();\n        }\n    },[props.information]);\n\n    if (loading) {\n    return (        \n        <LoadingView/>)\n    }\n    function renderFeaturedContrators() {\n        let i = 0;\n        let contractorCount = Contractors.length;\n        let tempContractors = [];\n        while (i < contractorCount) {\n            let data = Contractors[i];\n            if (localStorage.getItem('usertype')=== \"Contractor\"){\n                let unassignedJob = data\n                let jobId = unassignedJob.id\n                let jobTitle = unassignedJob.title\n                let contractorName = unassignedJob.clientFirstName\n                let location = unassignedJob.locationDetail\n                var serviceTypeList = unassignedJob.serviceTypeList;\n                let avatar = unassignedJob.downloadurl[0]\n                let clientId = unassignedJob.clientId\n                tempContractors.push(\n                    <JobCard name={jobTitle} id={jobId} Cname={contractorName} location={location} clientId ={clientId} \n                    avatarPic={avatar} \n                    serviceList={serviceTypeList}> </JobCard>\n                );\n            }else{\n                tempContractors.push(\n                    <ExploreCard avatar={data.downloadurl} className={styles.ContractorCard} contractorId={data.id} name={data.firstName + \" \" + data.lastName} rating={data.averageRating} review={data.numberOfReviews} serviceList={data.serviceTypeList} />\n                );\n            }\n            i += 1;\n        }\n        return tempContractors;\n    };\n    return (\n        <div className={styles.sBody}>\n            {Contractors.length === 0\n                ?<h1 className={styles.header}>{Contractors.length} results</h1>\n                :<h1 className={styles.header}>{Contractors.length} Results</h1>\n            }\n            <box className={styles.explorebox}>\n                {renderFeaturedContrators()}\n            </box>\n        </div>\n    )\n};\n\n"]},"metadata":{},"sourceType":"module"}