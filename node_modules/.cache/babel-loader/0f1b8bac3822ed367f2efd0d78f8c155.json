{"ast":null,"code":"import _slicedToArray from\"/Users/nandupokhrel/Desktop/BookTrades/trademingle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Route,NavLink}from'react-router-dom';import styles from'./styles.module.css';import Active from'./active.js';import Done from'./done.js';import Saved from'./saved.js';import PendingJobs from'./pending.js';import api from'../api/api';import Drawer from'@material-ui/core/Drawer';import{makeStyles}from'@material-ui/core/styles';import LoadingView from'../ResuableComponents/loadingView';var drawerWidth=300;var useStyles=makeStyles(function(theme){return{root:{display:'flex',marginTop:80},hide:{display:'none'},drawer:{width:drawerWidth,flexShrink:0,zIndex:3},drawerPaper:{width:drawerWidth,paddingLeft:'20px'}};});var ContractorActiveJobsPage=function ContractorActiveJobsPage(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),pendingJobs=_useState2[0],setPendingJobs=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var getPendingJobs=function getPendingJobs(){api.getPendingJobs().then(function(res){// debugger;\nconsole.log(\"Job loaded successfully\");console.log(res);setPendingJobs(res.data);//change [] with .get\nsetLoading(false);}).catch(function(err){return console.log(err);});};useEffect(function(){setLoading(true);getPendingJobs();},[]);var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var handleDrawerOpen=function handleDrawerOpen(){setOpen(true);};var handleDrawerClose=function handleDrawerClose(){setOpen(false);};var renderPendingJobs=function renderPendingJobs(){var i=0;var jobsCount=pendingJobs.length;if(jobsCount===0){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\"It seems you don't have any Pending Jobs.\"));}else{var tempJobs=[];while(i<jobsCount){var job=pendingJobs[i];var jobId=job.id;var jobTitle=job.title;var contractorName=job.clientFirstName;var location=job.locationDetail;var serviceList=job.serviceTypeList;var avatar=job.downloadurl[0];var userId=job.clientId;tempJobs.push(/*#__PURE__*/React.createElement(PendingJobs,{userId:userId,onAction:getPendingJobs,avatar:avatar,complete:0,id:jobId,title:jobTitle,name:contractorName,location:location,serviceList:serviceList}));// Proceed to the next message.\ni+=1;}return tempJobs;}};var classes=useStyles();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",{className:styles.header},\"My Jobs\",open===false?/*#__PURE__*/React.createElement(\"button\",{onClick:handleDrawerOpen,className:styles.showbutton},\"View Pending Jobs\"):null),/*#__PURE__*/React.createElement(\"div\",{className:styles.header2},/*#__PURE__*/React.createElement(NavLink,{exact:true,to:\"/ContractorActiveJobs/active\",className:styles.activeJob,activeStyle:{fontWeight:\"bold\",color:'#2B64D2'}},\"Active\"),/*#__PURE__*/React.createElement(NavLink,{exact:true,to:\"/ContractorActiveJobs/saved\",className:styles.activeJob,activeStyle:{fontWeight:\"bold\",color:'#2B64D2'}},\"Saved\"),/*#__PURE__*/React.createElement(NavLink,{exact:true,to:\"/ContractorActiveJobs/done\",className:styles.activeJob,activeStyle:{fontWeight:\"bold\",color:'#2B64D2'}},\"Done\")),/*#__PURE__*/React.createElement(\"div\",{className:styles.content},/*#__PURE__*/React.createElement(Route,{path:\"/ContractorActiveJobs/active\",component:Active}),/*#__PURE__*/React.createElement(Route,{path:\"/ContractorActiveJobs/saved\",component:Saved}),/*#__PURE__*/React.createElement(Route,{path:\"/ContractorActiveJobs/done\",component:Done})),/*#__PURE__*/React.createElement(Drawer,{className:styles.rectangle33,variant:\"persistent\",anchor:\"right\",open:open,classes:{paper:classes.drawerPaper}},/*#__PURE__*/React.createElement(\"h1\",{className:styles.pending},\" Pending Requests\",/*#__PURE__*/React.createElement(\"button\",{onClick:handleDrawerClose,className:styles.hidebutton},\"Hide\")),loading?/*#__PURE__*/React.createElement(LoadingView,null):renderPendingJobs()));};export default ContractorActiveJobsPage;","map":{"version":3,"sources":["/Users/nandupokhrel/Desktop/BookTrades/trademingle/src/components/ContractorActiveJobsPage/index.js"],"names":["React","useEffect","useState","Route","NavLink","styles","Active","Done","Saved","PendingJobs","api","Drawer","makeStyles","LoadingView","drawerWidth","useStyles","theme","root","display","marginTop","hide","drawer","width","flexShrink","zIndex","drawerPaper","paddingLeft","ContractorActiveJobsPage","props","pendingJobs","setPendingJobs","loading","setLoading","getPendingJobs","then","res","console","log","data","catch","err","open","setOpen","handleDrawerOpen","handleDrawerClose","renderPendingJobs","i","jobsCount","length","tempJobs","job","jobId","id","jobTitle","title","contractorName","clientFirstName","location","locationDetail","serviceList","serviceTypeList","avatar","downloadurl","userId","clientId","push","classes","header","showbutton","header2","activeJob","fontWeight","color","content","rectangle33","paper","pending","hidebutton"],"mappings":"yKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA0C,OAA1C,CACA,OAASC,KAAT,CAAgBC,OAAhB,KAA+B,kBAA/B,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,aAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,WAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,YAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CACA,MAAOC,CAAAA,GAAP,KAAgB,YAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,mCAAxB,CAEA,GAAMC,CAAAA,WAAW,CAAG,GAApB,CACA,GAAMC,CAAAA,SAAS,CAAGH,UAAU,CAAC,SAACI,KAAD,QAAY,CACvCC,IAAI,CAAE,CACJC,OAAO,CAAE,MADL,CAEJC,SAAS,CAAC,EAFN,CADiC,CAKvCC,IAAI,CAAE,CACJF,OAAO,CAAE,MADL,CALiC,CAQvCG,MAAM,CAAE,CACNC,KAAK,CAAER,WADD,CAENS,UAAU,CAAE,CAFN,CAGNC,MAAM,CAAC,CAHD,CAR+B,CAavCC,WAAW,CAAE,CACXH,KAAK,CAAER,WADI,CAEXY,WAAW,CAAC,MAFD,CAb0B,CAAZ,EAAD,CAA5B,CAmBA,GAAMC,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,CAACC,KAAD,CAAW,CAC1C,cAAsC1B,QAAQ,CAAC,EAAD,CAA9C,wCAAO2B,WAAP,eAAoBC,cAApB,eACA,eAA8B5B,QAAQ,CAAC,KAAD,CAAtC,yCAAO6B,OAAP,eAAgBC,UAAhB,eACA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CACzBvB,GAAG,CAACuB,cAAJ,GAAqBC,IAArB,CAA0B,SAAAC,GAAG,CAAI,CAC/B;AACEC,OAAO,CAACC,GAAR,CAAY,yBAAZ,EACAD,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAL,cAAc,CAACK,GAAG,CAACG,IAAL,CAAd,CAA0B;AAC1BN,UAAU,CAAC,KAAD,CAAV,CACH,CAND,EAMGO,KANH,CAMS,SAAAC,GAAG,QAAIJ,CAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAAJ,EANZ,EAOH,CARD,CAUAvC,SAAS,CAAC,UAAM,CACd+B,UAAU,CAAC,IAAD,CAAV,CACEC,cAAc,GACf,CAHM,CAGL,EAHK,CAAT,CAKA,oBAAwBjC,KAAK,CAACE,QAAN,CAAe,IAAf,CAAxB,oDAAOuC,IAAP,qBAAaC,OAAb,qBACA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7BD,OAAO,CAAC,IAAD,CAAP,CACD,CAFD,CAGA,GAAME,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC9BF,OAAO,CAAC,KAAD,CAAP,CACD,CAFD,CAGA,GAAMG,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC9B,GAAIC,CAAAA,CAAC,CAAG,CAAR,CACA,GAAIC,CAAAA,SAAS,CAAGlB,WAAW,CAACmB,MAA5B,CACA,GAAID,SAAS,GAAG,CAAhB,CAAkB,CAChB,mBACE,4CACE,yEADF,CADF,CAKD,CAND,IAOI,CACJ,GAAIE,CAAAA,QAAQ,CAAG,EAAf,CACA,MAAOH,CAAC,CAAGC,SAAX,CAAsB,CACpB,GAAIG,CAAAA,GAAG,CAAGrB,WAAW,CAACiB,CAAD,CAArB,CACA,GAAIK,CAAAA,KAAK,CAAGD,GAAG,CAACE,EAAhB,CACA,GAAIC,CAAAA,QAAQ,CAAGH,GAAG,CAACI,KAAnB,CACA,GAAIC,CAAAA,cAAc,CAAGL,GAAG,CAACM,eAAzB,CACA,GAAIC,CAAAA,QAAQ,CAAGP,GAAG,CAACQ,cAAnB,CACA,GAAIC,CAAAA,WAAW,CAAGT,GAAG,CAACU,eAAtB,CACA,GAAIC,CAAAA,MAAM,CAAEX,GAAG,CAACY,WAAJ,CAAgB,CAAhB,CAAZ,CACA,GAAIC,CAAAA,MAAM,CAAEb,GAAG,CAACc,QAAhB,CACAf,QAAQ,CAACgB,IAAT,cACE,oBAAC,WAAD,EAAa,MAAM,CAAEF,MAArB,CAA6B,QAAQ,CAAE9B,cAAvC,CAAuD,MAAM,CAAE4B,MAA/D,CAAuE,QAAQ,CAAG,CAAlF,CAAqF,EAAE,CAAEV,KAAzF,CAAgG,KAAK,CAAEE,QAAvG,CAAiH,IAAI,CAAEE,cAAvH,CAAuI,QAAQ,CAAEE,QAAjJ,CAA2J,WAAW,CAAEE,WAAxK,EADF,EAIA;AACAb,CAAC,EAAI,CAAL,CACD,CACD,MAAOG,CAAAA,QAAP,CAAiB,CAClB,CA7BD,CA8BA,GAAMiB,CAAAA,OAAO,CAAGnD,SAAS,EAAzB,CACA,mBACE,4CACE,0BAAI,SAAS,CAAEV,MAAM,CAAC8D,MAAtB,YACG1B,IAAI,GAAI,KAAR,cACD,8BAAQ,OAAO,CAAEE,gBAAjB,CAAmC,SAAS,CAAEtC,MAAM,CAAC+D,UAArD,sBADC,CAIA,IALH,CADF,cASE,2BAAK,SAAS,CAAE/D,MAAM,CAACgE,OAAvB,eACE,oBAAC,OAAD,EAAS,KAAK,KAAd,CAAe,EAAE,CAAC,8BAAlB,CAAiD,SAAS,CAAEhE,MAAM,CAACiE,SAAnE,CAA8E,WAAW,CAAE,CACzFC,UAAU,CAAE,MAD6E,CAEzFC,KAAK,CAAE,SAFkF,CAA3F,WADF,cAKE,oBAAC,OAAD,EAAS,KAAK,KAAd,CAAe,EAAE,CAAC,6BAAlB,CAAgD,SAAS,CAAEnE,MAAM,CAACiE,SAAlE,CAA6E,WAAW,CAAE,CACxFC,UAAU,CAAE,MAD4E,CAExFC,KAAK,CAAE,SAFiF,CAA1F,UALF,cASE,oBAAC,OAAD,EAAS,KAAK,KAAd,CAAe,EAAE,CAAC,4BAAlB,CAA+C,SAAS,CAAEnE,MAAM,CAACiE,SAAjE,CAA4E,WAAW,CAAE,CACvFC,UAAU,CAAE,MAD2E,CAEvFC,KAAK,CAAE,SAFgF,CAAzF,SATF,CATF,cAuBE,2BAAK,SAAS,CAAEnE,MAAM,CAACoE,OAAvB,eACE,oBAAC,KAAD,EAAO,IAAI,CAAC,8BAAZ,CAA2C,SAAS,CAAEnE,MAAtD,EADF,cAEE,oBAAC,KAAD,EAAO,IAAI,CAAC,6BAAZ,CAA0C,SAAS,CAAEE,KAArD,EAFF,cAGE,oBAAC,KAAD,EAAO,IAAI,CAAC,4BAAZ,CAAyC,SAAS,CAAED,IAApD,EAHF,CAvBF,cA4BE,oBAAC,MAAD,EACE,SAAS,CAAEF,MAAM,CAACqE,WADpB,CAEE,OAAO,CAAC,YAFV,CAGE,MAAM,CAAC,OAHT,CAIE,IAAI,CAAEjC,IAJR,CAKE,OAAO,CAAE,CACPkC,KAAK,CAAET,OAAO,CAACzC,WADR,CALX,eAQE,0BAAI,SAAS,CAAEpB,MAAM,CAACuE,OAAtB,mCACE,8BAAQ,OAAO,CAAEhC,iBAAjB,CAAoC,SAAS,CAAEvC,MAAM,CAACwE,UAAtD,SADF,CARF,CAaG9C,OAAO,cAAC,oBAAC,WAAD,MAAD,CAAgBc,iBAAiB,EAb3C,CA5BF,CADF,CAiDA,CAzGF,CA2GA,cAAelB,CAAAA,wBAAf","sourcesContent":["import React, { useEffect, useState} from 'react';\nimport { Route, NavLink } from 'react-router-dom';\nimport styles from './styles.module.css'; \nimport Active from './active.js';\nimport Done from './done.js';\nimport Saved from './saved.js';  \nimport PendingJobs from './pending.js';\nimport api from '../api/api';\nimport Drawer from '@material-ui/core/Drawer';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LoadingView from '../ResuableComponents/loadingView';\n\nconst drawerWidth = 300;\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    marginTop:80,\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    zIndex:3,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    paddingLeft:'20px'\n  },\n}));\n\nconst ContractorActiveJobsPage = (props) => {\n  const [pendingJobs, setPendingJobs] = useState({});\n  const [loading, setLoading] = useState(false);\n  const getPendingJobs = () => {\n      api.getPendingJobs().then(res => {\n        // debugger;\n          console.log(\"Job loaded successfully\");\n          console.log(res);\n          setPendingJobs(res.data); //change [] with .get\n          setLoading(false);\n      }).catch(err => console.log(err))\n  }\n\n  useEffect(() => {\n    setLoading(true);\n      getPendingJobs();\n    },[]);\n\n  const [open, setOpen] = React.useState(true);\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n  const renderPendingJobs = () => {\n    let i = 0;\n    let jobsCount = pendingJobs.length;\n    if (jobsCount===0){\n      return(\n        <div>\n          <p>It seems you don't have any Pending Jobs.</p>\n        </div>\n      )\n    }\n    else{\n    let tempJobs = [];\n    while (i < jobsCount) {\n      let job = pendingJobs[i]\n      let jobId = job.id\n      let jobTitle = job.title\n      let contractorName = job.clientFirstName\n      let location = job.locationDetail\n      let serviceList = job.serviceTypeList;\n      let avatar= job.downloadurl[0]\n      let userId= job.clientId\n      tempJobs.push(\n        <PendingJobs userId={userId} onAction={getPendingJobs} avatar={avatar} complete= {0} id={jobId} title={jobTitle} name={contractorName} location={location} serviceList={serviceList} />\n      );\n\n      // Proceed to the next message.\n      i += 1;\n    }\n    return tempJobs;}\n  };\n  const classes = useStyles();\n  return(\n    <div>\n      <h1 className={styles.header}>My Jobs \n        {open ===false?\n        <button onClick={handleDrawerOpen} className={styles.showbutton}>\n          View Pending Jobs\n        </button>\n        :null\n        }\n      </h1> \n      <div className={styles.header2}>\n        <NavLink exact to=\"/ContractorActiveJobs/active\" className={styles.activeJob} activeStyle={{\n          fontWeight: \"bold\",\n          color: '#2B64D2'\n        }}>Active</NavLink>\n        <NavLink exact to=\"/ContractorActiveJobs/saved\" className={styles.activeJob} activeStyle={{\n          fontWeight: \"bold\",\n          color: '#2B64D2'\n        }}>Saved</NavLink>\n        <NavLink exact to=\"/ContractorActiveJobs/done\" className={styles.activeJob} activeStyle={{\n          fontWeight: \"bold\",\n          color: '#2B64D2'\n        }}>Done</NavLink>\n      </div>\n      <div className={styles.content}>\n        <Route path=\"/ContractorActiveJobs/active\" component={Active}/>\n        <Route path=\"/ContractorActiveJobs/saved\" component={Saved}/>\n        <Route path=\"/ContractorActiveJobs/done\" component={Done}/>\n      </div>\n      <Drawer\n        className={styles.rectangle33}\n        variant=\"persistent\"\n        anchor=\"right\"\n        open={open}\n        classes={{\n          paper: classes.drawerPaper,\n        }}      >\n        <h1 className={styles.pending}> Pending Requests \n          <button onClick={handleDrawerClose} className={styles.hidebutton}>\n            Hide\n          </button>\n        </h1>\n        {loading?<LoadingView/>:renderPendingJobs()}\n      </Drawer>\n      {/* <box className={styles.rectangle33}>\n          <h1 className={styles.pending}> Pending Requests</h1>\n          {renderPendingJobs()}\n      </box> */}\n    </div>\n)};\n\nexport default ContractorActiveJobsPage;\n"]},"metadata":{},"sourceType":"module"}