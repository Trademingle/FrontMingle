{"ast":null,"code":"import _slicedToArray from\"/Users/nandupokhrel/Desktop/BookTrades/trademingle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import Stepper from'@material-ui/core/Stepper';import Step from'@material-ui/core/Step';import{withStyles,makeStyles}from'@material-ui/core/styles';import StepButton from'@material-ui/core/StepButton';import Button from'@material-ui/core/Button';import Typography from'@material-ui/core/Typography';import AddListingOne from'./AddListingOne';import AddListingTwo from'./AddListingTwo';import AddListingThree from'./AddListingThree';import styles from'./review.module.css';import{purple}from'@material-ui/core/colors';import api from'../api/api';import{useHistory}from'react-router-dom';import moment from'moment';import swal from'sweetalert';var ContinueButton=withStyles(function(theme){return{root:{color:theme.palette.getContrastText(purple[500]),borderRadius:44,backgroundColor:'#2B64D2','&:hover':{backgroundColor:'#003ba0'}}};})(Button);var useStyles=makeStyles(function(theme){return{instructions:{marginTop:theme.spacing(1),marginBottom:theme.spacing(1),overflow:'hidden'},continuebutton:{borderRadius:\"15px\"}};});function getSteps(){return['Required info','Optional info','Review'];}var listingObj={imageListStoreRef:[],serviceTypeList:[]};listingObj.datePosted=moment().format('YYYY-MM-DD');function getStepContent(stepIndex){switch(stepIndex){case 0:return/*#__PURE__*/React.createElement(AddListingOne,{data:listingObj});case 1:return/*#__PURE__*/React.createElement(AddListingTwo,{data:listingObj});case 2:return/*#__PURE__*/React.createElement(AddListingThree,{data:listingObj});}}export default function AddListing(){var jobCallback=function jobCallback(){window.location.href=\"/homeowneractivejobs/unassigned\";swal({title:\"Success!\",text:\"Job has been successfully created!\",icon:\"success\",button:\"OK\"});};var classes=useStyles();var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),activeStep=_React$useState2[0],setActiveStep=_React$useState2[1];var steps=getSteps();var job_data=listingObj;// const history = useHistory();\nvar handleNext=function handleNext(){if(activeStep===2){api.addUnassignedJob(job_data,jobCallback);// setActiveStep((prevActiveStep) => prevActiveStep - 1);\n}if(activeStep===0&&(listingObj.title===undefined||listingObj.locationDetail===undefined||listingObj.jobDetails===undefined||listingObj.serviceTypeList===[])){swal({title:\"Data not found!\",text:\"Please, fill out entire form.\",icon:\"error\",button:\"OK\"});}else{setActiveStep(function(prevActiveStep){return prevActiveStep+1;});}};var handleStep=function handleStep(step){return function(){setActiveStep(step);};};// const handleBack = () => {\n//   setActiveStep((prevActiveStep) => prevActiveStep - 1);\n// };\n// const handleReset = () => {\n//   setActiveStep(0);\n// };\nreturn/*#__PURE__*/React.createElement(\"div\",{className:styles.fullpagebox},/*#__PURE__*/React.createElement(\"box\",{className:styles.mainbox},/*#__PURE__*/React.createElement(\"h1\",{className:styles.h1},\"Add a listing\"),/*#__PURE__*/React.createElement(\"div\",{className:styles.reviewcontent},activeStep===steps.length?/*#__PURE__*/React.createElement(\"div\",null):/*#__PURE__*/React.createElement(Typography,{className:classes.instructions},getStepContent(activeStep))),/*#__PURE__*/React.createElement(\"box\",{className:styles.stepperbox},/*#__PURE__*/React.createElement(ContinueButton,{className:styles.continue,onClick:handleNext},/*#__PURE__*/React.createElement(\"p\",{className:styles.continuetext},\"Continue\")),/*#__PURE__*/React.createElement(Stepper,{nonLinear:true,className:styles.stepper,activeStep:activeStep,alternativeLabel:true},steps.map(function(label,index){return/*#__PURE__*/React.createElement(Step,{key:label},/*#__PURE__*/React.createElement(StepButton,{onClick:handleStep(index)},label));})))));}","map":{"version":3,"sources":["/Users/nandupokhrel/Desktop/BookTrades/trademingle/src/components/AddListing/AddListing.js"],"names":["React","Stepper","Step","withStyles","makeStyles","StepButton","Button","Typography","AddListingOne","AddListingTwo","AddListingThree","styles","purple","api","useHistory","moment","swal","ContinueButton","theme","root","color","palette","getContrastText","borderRadius","backgroundColor","useStyles","instructions","marginTop","spacing","marginBottom","overflow","continuebutton","getSteps","listingObj","imageListStoreRef","serviceTypeList","datePosted","format","getStepContent","stepIndex","AddListing","jobCallback","window","location","href","title","text","icon","button","classes","useState","activeStep","setActiveStep","steps","job_data","handleNext","addUnassignedJob","undefined","locationDetail","jobDetails","prevActiveStep","handleStep","step","fullpagebox","mainbox","h1","reviewcontent","length","stepperbox","continue","continuetext","stepper","map","label","index"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport StepButton from '@material-ui/core/StepButton';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport AddListingOne from './AddListingOne';\nimport AddListingTwo from './AddListingTwo';\nimport AddListingThree from './AddListingThree';\nimport styles from './review.module.css';\nimport { purple } from '@material-ui/core/colors';\nimport api from '../api/api';\nimport {useHistory } from 'react-router-dom';\nimport moment from 'moment';\nimport swal from 'sweetalert';\n\nconst ContinueButton = withStyles((theme) => ({\n  root: {\n    color: theme.palette.getContrastText(purple[500]),\n    borderRadius:44,\n    backgroundColor: '#2B64D2',\n    '&:hover': {\n      backgroundColor: '#003ba0',\n    },\n  },\n}))(Button);\n\nconst useStyles = makeStyles((theme) => ({\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    overflow:'hidden'\n  },\n  continuebutton: {\n    borderRadius: \"15px\"\n  },\n}));\n\nfunction getSteps() {\n  return ['Required info', 'Optional info', 'Review'];\n}\nconst listingObj = {imageListStoreRef:[], serviceTypeList:[]}\nlistingObj.datePosted = moment().format('YYYY-MM-DD');\n\nfunction getStepContent(stepIndex) {\n  switch (stepIndex) {\n    case 0:\n      return <AddListingOne  data={listingObj}/>;\n    case 1:\n      return <AddListingTwo data={listingObj}/>;\n    case 2:\n      return <AddListingThree data={listingObj}/>;\n  }\n}\n\nexport default function AddListing() {\n  const jobCallback= ()=>{\n    window.location.href=\"/homeowneractivejobs/unassigned\"\n    swal({\n      title: \"Success!\",\n      text: \"Job has been successfully created!\",\n      icon: \"success\",\n      button: \"OK\",\n    });\n  }\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = React.useState(0);\n  const steps = getSteps();\n  const job_data = listingObj;\n  // const history = useHistory();\n  const handleNext = () => {\n    if (activeStep === 2){\n        api.addUnassignedJob(job_data,jobCallback)\n      // setActiveStep((prevActiveStep) => prevActiveStep - 1);\n    }\n    if(activeStep === 0 && (listingObj.title === undefined || listingObj.locationDetail === undefined || listingObj.jobDetails === undefined || listingObj.serviceTypeList === [])){\n      swal({\n        title: \"Data not found!\",\n        text: \"Please, fill out entire form.\",\n        icon: \"error\",\n        button: \"OK\",\n      });\n    }\n    else{\n      setActiveStep((prevActiveStep) => prevActiveStep + 1);\n    }\n  };\n\n  const handleStep = (step) => () => {\n    setActiveStep(step);\n  };\n  // const handleBack = () => {\n  //   setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  // };\n\n  // const handleReset = () => {\n  //   setActiveStep(0);\n  // };\n\n  return (\n    <div className={styles.fullpagebox}>\n      <box className={styles.mainbox}>\n        <h1 className={styles.h1}>Add a listing</h1>\n        <div className={styles.reviewcontent}>\n          {activeStep === steps.length ? (\n            <div>\n            </div>\n          ) : (\n            <Typography className={classes.instructions}>{getStepContent(activeStep)}</Typography>\n          )}\n        </div>\n        <box className={styles.stepperbox}>\n          <ContinueButton className={styles.continue} onClick={handleNext}>\n              <p className={styles.continuetext}>Continue</p>\n          </ContinueButton>\n          <Stepper nonLinear className={styles.stepper} activeStep={activeStep} alternativeLabel>\n            {steps.map((label, index) => (\n              <Step key={label}>\n                <StepButton onClick={handleStep(index)} >\n                  {label}\n                </StepButton>\n              </Step>\n            ))}\n          </Stepper>\n        </box>\n      </box>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}