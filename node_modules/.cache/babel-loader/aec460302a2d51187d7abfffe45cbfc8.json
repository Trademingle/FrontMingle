{"ast":null,"code":"import _slicedToArray from\"/Users/nandupokhrel/Desktop/BookTrades/trademingle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import styles from'../HomeOwnerExplorePage/explore.module.css';import SearchBar from'../Landing/searchbar';import ExploreCard from'./ExploreCard copy';import api from'../api/api';import LoadingView from'../ResuableComponents/loadingView';var ContractorExplorePage=function ContractorExplorePage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),unassignedJobs=_useState2[0],setUnassignedJobs=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var getUnassignedJobs=function getUnassignedJobs(){api.getUnassignedJobs({}).then(function(res){console.log(\"Job loaded successfully\");console.log(res);setUnassignedJobs(res.data['nearby jobs']);setLoading(false);}).catch(function(err){console.log(err);setLoading(false);});};useEffect(function(){setLoading(true);getUnassignedJobs();},[]);var renderUnassignedJobs=function renderUnassignedJobs(){var i=0;var unassignedJobCount=unassignedJobs.length;var tempJobs=[];if(unassignedJobCount===0){return\"It looks like there are no jobs near you.\";}else{while(i<unassignedJobCount){var unassignedJob=unassignedJobs[i];var jobId=unassignedJob.id;var jobTitle=unassignedJob.title;var contractorName=unassignedJob.clientFirstName;var location=unassignedJob.locationDetail;var serviceTypeList=unassignedJob.serviceTypeList;var avatar=unassignedJob.downloadurl[0];var clientId=unassignedJob.clientId;tempJobs.push(/*#__PURE__*/React.createElement(ExploreCard,{name:jobTitle,id:jobId,Cname:contractorName,location:location,clientId:clientId,avatarPic:avatar,serviceList:serviceTypeList},\" \"));// Proceed to the next message.\ni+=1;}return tempJobs;}};return/*#__PURE__*/React.createElement(\"div\",{className:styles.contentwrapper},/*#__PURE__*/React.createElement(SearchBar,{type:\"contractor\"}),/*#__PURE__*/React.createElement(\"h1\",{className:styles.header},\"Jobs Near You\"),/*#__PURE__*/React.createElement(\"box\",{className:styles.explorebox},/*#__PURE__*/React.createElement(\"box\",{className:styles.explorecardbox},loading?/*#__PURE__*/React.createElement(LoadingView,null):renderUnassignedJobs()),/*#__PURE__*/React.createElement(\"box\",{className:styles.adbox},/*#__PURE__*/React.createElement(\"box\",{className:styles.ad},/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:80}},\"Ad\")))));};export default ContractorExplorePage;","map":{"version":3,"sources":["/Users/nandupokhrel/Desktop/BookTrades/trademingle/src/components/ContractorExplorePage/index.js"],"names":["React","useEffect","useState","styles","SearchBar","ExploreCard","api","LoadingView","ContractorExplorePage","unassignedJobs","setUnassignedJobs","loading","setLoading","getUnassignedJobs","then","res","console","log","data","catch","err","renderUnassignedJobs","i","unassignedJobCount","length","tempJobs","unassignedJob","jobId","id","jobTitle","title","contractorName","clientFirstName","location","locationDetail","serviceTypeList","avatar","downloadurl","clientId","push","contentwrapper","header","explorebox","explorecardbox","adbox","ad","fontSize"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styles from '../HomeOwnerExplorePage/explore.module.css';\nimport SearchBar from '../Landing/searchbar';\nimport ExploreCard from './ExploreCard copy';\nimport api from '../api/api';\nimport LoadingView from '../ResuableComponents/loadingView';\n\nconst ContractorExplorePage = () => {\n    const [unassignedJobs, setUnassignedJobs] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const getUnassignedJobs = () => {\n        api.getUnassignedJobs({}).then(res => {\n            console.log(\"Job loaded successfully\");\n            console.log(res);\n            setUnassignedJobs(res.data['nearby jobs']);\n            setLoading(false);\n        }).catch(err => {console.log(err); setLoading(false);\n        })\n    }\n\n    useEffect(() => {\n        setLoading(true);\n        getUnassignedJobs();\n      },[]);\n\n    const renderUnassignedJobs = () => {\n        let i = 0;\n        let unassignedJobCount = unassignedJobs.length;\n        let tempJobs = [];\n        if(unassignedJobCount === 0){\n            return(\"It looks like there are no jobs near you.\")\n        }\n        else{\n            while (i < unassignedJobCount) {\n            let unassignedJob = unassignedJobs[i]\n            let jobId = unassignedJob.id\n            let jobTitle = unassignedJob.title\n            let contractorName = unassignedJob.clientFirstName\n            let location = unassignedJob.locationDetail\n            var serviceTypeList = unassignedJob.serviceTypeList;\n            let avatar = unassignedJob.downloadurl[0]\n            let clientId = unassignedJob.clientId\n            tempJobs.push(\n                <ExploreCard name={jobTitle} id={jobId} Cname={contractorName} location={location} clientId ={clientId} \n                avatarPic={avatar} \n                serviceList={serviceTypeList}> </ExploreCard>\n            );\n        \n            // Proceed to the next message.\n            i += 1;\n            }\n            return tempJobs;\n        }\n      };\n    return (\n        <div className={styles.contentwrapper}>\n            <SearchBar type='contractor' />\n            <h1 className={styles.header}>Jobs Near You</h1>\n            <box className={styles.explorebox}>\n                <box className={styles.explorecardbox}>\n                    {loading?<LoadingView/>\n                    :renderUnassignedJobs()}\n                </box>\n                <box className={styles.adbox}>\n                    <box className={styles.ad}>\n                        <p style={{fontSize:80}}>Ad</p>\n                    </box>\n                </box>\n            </box>\n\n        </div>\n\n    )\n};\n\nexport default ContractorExplorePage;\n"]},"metadata":{},"sourceType":"module"}