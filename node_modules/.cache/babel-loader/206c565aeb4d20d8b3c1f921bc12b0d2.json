{"ast":null,"code":"import _classCallCheck from\"/Users/nandupokhrel/Desktop/BookTrades/trademingle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nandupokhrel/Desktop/BookTrades/trademingle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/nandupokhrel/Desktop/BookTrades/trademingle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/nandupokhrel/Desktop/BookTrades/trademingle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import styles from'./styles.module.css';import{withRouter}from'react-router-dom';import*as ROUTES from'../../constants/routes';import{compose}from'recompose';import glogo from\"./icons/google-icon.svg\";import{withFirebase}from'../Firebase';var SignInGoogleBase=/*#__PURE__*/function(_Component){_inherits(SignInGoogleBase,_Component);var _super=_createSuper(SignInGoogleBase);function SignInGoogleBase(props){var _this;_classCallCheck(this,SignInGoogleBase);_this=_super.call(this,props);_this.onSubmit=function(event){_this.props.firebase.doSignInWithGoogle().then(function(socialAuthUser){_this.props.onComplete(socialAuthUser);// debugger;\n// this.props.history.push(ROUTES.INBOX);\nreturn _this.props.firebase.user(socialAuthUser.user.uid).set({username:socialAuthUser.user.displayName,email:socialAuthUser.user.email,roles:{}});}).then(function(){// debugger;\n_this.setState({error:null});_this.props.history.push(ROUTES.HOME);}).catch(function(error){_this.setState({error:error});});event.preventDefault();};_this.state={error:null};return _this;}_createClass(SignInGoogleBase,[{key:\"render\",value:function render(){var error=this.state.error;return/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"button\",{className:styles.apple},/*#__PURE__*/React.createElement(\"img\",{src:glogo,className:styles.logo,alt:'google'}),/*#__PURE__*/React.createElement(\"p\",{style:{marginTop:'20px'}},\"Sign Up with Google\")),error&&/*#__PURE__*/React.createElement(\"p\",{className:styles.para,style:{color:'red'}},error.message));}}]);return SignInGoogleBase;}(Component);var SignInGoogle=compose(withRouter,withFirebase)(SignInGoogleBase);export default SignInGoogle;","map":{"version":3,"sources":["/Users/nandupokhrel/Desktop/BookTrades/trademingle/src/components/SignUp/SUgoogle.js"],"names":["React","Component","styles","withRouter","ROUTES","compose","withFirebase","SignInGoogleBase","props","onSubmit","event","firebase","doSignInWithGoogle","then","socialAuthUser","onComplete","user","uid","set","username","displayName","email","roles","setState","error","history","push","HOME","catch","preventDefault","state","apple","glogo","logo","marginTop","para","color","message","SignInGoogle"],"mappings":"opBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAO,GAAKC,CAAAA,MAAZ,KAAwB,wBAAxB,CACA,OAASC,OAAT,KAAwB,WAAxB,C,2CAEA,OAASC,YAAT,KAA6B,aAA7B,C,GAGMC,CAAAA,gB,oHACF,0BAAYC,KAAZ,CAAmB,kDACjB,uBAAMA,KAAN,EADiB,MAMnBC,QANmB,CAMR,SAAAC,KAAK,CAAI,CAClB,MAAKF,KAAL,CAAWG,QAAX,CACGC,kBADH,GAEGC,IAFH,CAEQ,SAAAC,cAAc,CAAI,CACtB,MAAKN,KAAL,CAAWO,UAAX,CAAsBD,cAAtB,EACA;AACA;AACA,MAAO,OAAKN,KAAL,CAAWG,QAAX,CACJK,IADI,CACCF,cAAc,CAACE,IAAf,CAAoBC,GADrB,EAEJC,GAFI,CAEA,CACHC,QAAQ,CAAEL,cAAc,CAACE,IAAf,CAAoBI,WAD3B,CAEHC,KAAK,CAAEP,cAAc,CAACE,IAAf,CAAoBK,KAFxB,CAGHC,KAAK,CAAE,EAHJ,CAFA,CAAP,CAOD,CAbH,EAcGT,IAdH,CAcQ,UAAM,CACV;AACA,MAAKU,QAAL,CAAc,CAAEC,KAAK,CAAE,IAAT,CAAd,EACA,MAAKhB,KAAL,CAAWiB,OAAX,CAAmBC,IAAnB,CAAwBtB,MAAM,CAACuB,IAA/B,EACD,CAlBH,EAmBGC,KAnBH,CAmBS,SAAAJ,KAAK,CAAI,CACd,MAAKD,QAAL,CAAc,CAAEC,KAAK,CAALA,KAAF,CAAd,EACD,CArBH,EAuBAd,KAAK,CAACmB,cAAN,GACD,CA/BkB,CAGjB,MAAKC,KAAL,CAAa,CAAEN,KAAK,CAAE,IAAT,CAAb,CAHiB,aAIlB,C,mDA6BD,iBAAS,CACP,GAAQA,CAAAA,KAAR,CAAkB,KAAKM,KAAvB,CAAQN,KAAR,CAEA,mBACE,4BAAM,QAAQ,CAAE,KAAKf,QAArB,eACE,8BACE,SAAS,CAAEP,MAAM,CAAC6B,KADpB,eAEI,2BAAK,GAAG,CAAEC,KAAV,CAAiB,SAAS,CAAE9B,MAAM,CAAC+B,IAAnC,CAAyC,GAAG,CAAE,QAA9C,EAFJ,cAGM,yBAAG,KAAK,CAAE,CAACC,SAAS,CAAC,MAAX,CAAV,wBAHN,CADF,CAOGV,KAAK,eAAI,yBAAG,SAAS,CAAEtB,MAAM,CAACiC,IAArB,CAA2B,KAAK,CAAE,CAACC,KAAK,CAAC,KAAP,CAAlC,EAAkDZ,KAAK,CAACa,OAAxD,CAPZ,CADF,CAWD,C,8BAhD0BpC,S,EAkD7B,GAAMqC,CAAAA,YAAY,CAAGjC,OAAO,CAC1BF,UAD0B,CAE1BG,YAF0B,CAAP,CAGnBC,gBAHmB,CAArB,CAKA,cAAe+B,CAAAA,YAAf","sourcesContent":["import React, { Component } from 'react';\nimport styles from './styles.module.css';\nimport { withRouter } from 'react-router-dom';\nimport * as ROUTES from '../../constants/routes';\nimport { compose } from 'recompose';\nimport glogo from './icons/google-icon.svg';\nimport { withFirebase } from '../Firebase';\n\n\nclass SignInGoogleBase extends Component {\n    constructor(props) {\n      super(props);\n   \n      this.state = { error: null };\n    }\n   \n    onSubmit = event => {\n      this.props.firebase\n        .doSignInWithGoogle()\n        .then(socialAuthUser => {\n          this.props.onComplete(socialAuthUser);\n          // debugger;\n          // this.props.history.push(ROUTES.INBOX);\n          return this.props.firebase\n            .user(socialAuthUser.user.uid)\n            .set({\n              username: socialAuthUser.user.displayName,\n              email: socialAuthUser.user.email,\n              roles: {},\n            });\n        })\n        .then(() => {\n          // debugger;\n          this.setState({ error: null });\n          this.props.history.push(ROUTES.HOME);\n        })\n        .catch(error => {\n          this.setState({ error });\n        });\n   \n      event.preventDefault();\n    };\n   \n    render() {\n      const { error } = this.state;\n   \n      return (\n        <form onSubmit={this.onSubmit}>\n          <button\n            className={styles.apple}>\n              <img src={glogo} className={styles.logo} alt={'google'}/>\n                <p style={{marginTop:'20px'}} >Sign Up with Google</p>\n          </button>\n   \n          {error && <p className={styles.para} style={{color:'red'}}>{error.message}</p>}\n        </form>\n      );\n    }\n  }\n  const SignInGoogle = compose(\n    withRouter,\n    withFirebase,\n  )(SignInGoogleBase);\n\n  export default SignInGoogle;"]},"metadata":{},"sourceType":"module"}