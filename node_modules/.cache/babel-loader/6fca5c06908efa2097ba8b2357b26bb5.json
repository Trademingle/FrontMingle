{"ast":null,"code":"import _slicedToArray from\"/Users/nandupokhrel/Desktop/BookTrades/trademingle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import BookmarkBorderIcon from'@material-ui/icons/BookmarkBorder';import BookmarkIcon from'@material-ui/icons/Bookmark';import swal from'sweetalert';import SignUpPage from'../SignUp';import SignIn from'../Login';import api from'../api/api';import IconButton from'@material-ui/core/IconButton';var BookmarkButton=function BookmarkButton(props){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),open1=_React$useState4[0],setOpen1=_React$useState4[1];var handleOnClick=function handleOnClick(event){event.preventDefault();event.stopPropagation();swal({title:\"You are not signed in!\",text:\"Please log in or sign up as Client to use this feature!\",icon:\"info\",buttons:{cancel:\"Cancel\",login:{text:\"Log in\",value:\"login\"},signup:{text:\"Sign up\",value:\"signup\"}}}).then(function(value){switch(value){case\"login\":setOpen(true);break;case\"signup\":setOpen1(true);break;default:swal.close();}});};var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),buttonClicked=_React$useState6[0],setButtonClicked=_React$useState6[1];var profileId={};var handleSubmit=function handleSubmit(e){e.preventDefault();e.stopPropagation();var tempJobs=localStorage.getItem('savedJobList');var tempSavedJobs=[];if(tempJobs===\"\"){tempSavedJobs=[];}else{tempSavedJobs=localStorage.getItem('savedJobList').split(\",\").map(function(x){return+x;});}var indexx=tempSavedJobs.indexOf(props.id);if(tempSavedJobs.includes(props.id)){tempSavedJobs.splice(indexx,1);}else{tempSavedJobs.push(props.id);}localStorage.setItem('savedJobList',tempSavedJobs);profileId['savedJobList']=tempSavedJobs;api.editProfileForBookmark(profileId).then(function(res){console.log(res);}).catch(function(err){return console.log(err);});setButtonClicked(!buttonClicked);};var ButtonIcon=function ButtonIcon(){if(localStorage.getItem('savedJobList').includes(props.id)){return/*#__PURE__*/React.createElement(BookmarkIcon,{style:{color:\"#2B64D2\",fontSize:36,marginTop:'-15'}});}else{return/*#__PURE__*/React.createElement(BookmarkBorderIcon,{style:{color:\"#555555\",fontSize:36,marginTop:'-15'}});}};var ButtonIcon2=function ButtonIcon2(){if(localStorage.getItem('savedJobList').includes(props.id)){return/*#__PURE__*/React.createElement(BookmarkIcon,{style:{fontSize:32,position:'relative',color:'#22C029',cursor:'pointer'},onClick:function onClick(e){return handleSubmit(e);}});}else{return/*#__PURE__*/React.createElement(BookmarkBorderIcon,{style:{fontSize:32,position:'relative',color:'#22C029',cursor:'pointer'},onClick:function onClick(e){return handleSubmit(e);}});}};if(localStorage.getItem('usertype')==='Client'){return null;}else if(localStorage.getItem('usertype')==='Contractor'){if(props.iconButton===false){return/*#__PURE__*/React.createElement(ButtonIcon2,null);}else{return/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(e){return handleSubmit(e);}},/*#__PURE__*/React.createElement(ButtonIcon,null));}}else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(BookmarkBorderIcon,{style:{cursor:\"pointer\",color:'grey'},onClick:function onClick(event){return handleOnClick(event);}}),/*#__PURE__*/React.createElement(SignIn,{setOpen:setOpen,open:open}),/*#__PURE__*/React.createElement(SignUpPage,{setOpen:setOpen1,open:open1}));}};export default BookmarkButton;","map":{"version":3,"sources":["/Users/nandupokhrel/Desktop/BookTrades/trademingle/src/components/ResuableComponents/bookmarkButton.js"],"names":["React","BookmarkBorderIcon","BookmarkIcon","swal","SignUpPage","SignIn","api","IconButton","BookmarkButton","props","useState","open","setOpen","open1","setOpen1","handleOnClick","event","preventDefault","stopPropagation","title","text","icon","buttons","cancel","login","value","signup","then","close","buttonClicked","setButtonClicked","profileId","handleSubmit","e","tempJobs","localStorage","getItem","tempSavedJobs","split","map","x","indexx","indexOf","id","includes","splice","push","setItem","editProfileForBookmark","res","console","log","catch","err","ButtonIcon","color","fontSize","marginTop","ButtonIcon2","position","cursor","iconButton"],"mappings":"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","sourcesContent":["import React from 'react';\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder';\nimport BookmarkIcon from '@material-ui/icons/Bookmark';\nimport swal from 'sweetalert';\nimport SignUpPage from '../SignUp';\nimport SignIn from '../Login';\nimport api from '../api/api';\nimport IconButton from '@material-ui/core/IconButton';\n\nconst BookmarkButton=(props)=>{\n    const [open, setOpen] = React.useState(false);\n    const [open1, setOpen1] = React.useState(false);\n    const handleOnClick = (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      swal({\n        title: \"You are not signed in!\",\n        text: \"Please log in or sign up as Client to use this feature!\",\n        icon: \"info\",\n        buttons: {\n          cancel: \"Cancel\",\n          login: {\n            text: \"Log in\",\n            value: \"login\",\n          },\n          signup: {\n            text: \"Sign up\",\n            value: \"signup\",\n          },\n        },\n      })\n      .then((value) => {\n        switch (value) {\n          case \"login\":\n            setOpen(true);\n            break;\n          case \"signup\":\n            setOpen1(true);\n            break;\n          default:\n            swal.close()\n      }});\n    };\n    const [buttonClicked, setButtonClicked] = React.useState(false);\n    let profileId={};\n    const handleSubmit = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      let tempJobs= localStorage.getItem('savedJobList')\n      let tempSavedJobs=[]\n      if(tempJobs===\"\"){\n        tempSavedJobs=[]\n      }\n      else{\n        tempSavedJobs= localStorage.getItem('savedJobList').split(`,`).map(x=>+x)\n      }\n      const indexx = tempSavedJobs.indexOf(props.id);\n      if (tempSavedJobs.includes(props.id)){\n        tempSavedJobs.splice(indexx,1)\n      }\n      else {\n        tempSavedJobs.push(props.id)\n      }\n      localStorage.setItem('savedJobList', tempSavedJobs)\n      profileId['savedJobList']= tempSavedJobs\n      api.editProfileForBookmark(profileId).then(res => {\n        console.log(res);\n        }).catch(err => console.log(err))\n      setButtonClicked(!buttonClicked)\n    }\n\n    const ButtonIcon=()=>{\n      if (localStorage.getItem('savedJobList').includes(props.id)){\n        return(\n          <BookmarkIcon style={{color:\"#2B64D2\", fontSize:36, marginTop:'-15'}}/>\n        )\n      }\n      else {\n        return(\n          <BookmarkBorderIcon style={{color:\"#555555\", fontSize:36, marginTop:'-15'}}/>)\n      }\n    }\n    const ButtonIcon2=()=>{\n      if (localStorage.getItem('savedJobList').includes(props.id)){\n        return(\n          <BookmarkIcon style={{fontSize:32, position: 'relative', color: '#22C029', cursor: 'pointer'}} onClick={(e)=>handleSubmit(e)}/>\n        )\n      }\n      else {\n        return(\n          <BookmarkBorderIcon style={{fontSize:32, position: 'relative', color: '#22C029', cursor: 'pointer'}} onClick={(e)=>handleSubmit(e)}/>)\n      }\n    }\n\n    if (localStorage.getItem('usertype') === 'Client'){\n      return( null )}\n    else if (localStorage.getItem('usertype') === 'Contractor'){  \n      if(props.iconButton === false){\n        return(<ButtonIcon2/>)\n      } \n      else{ \n        return(                     \n          <IconButton onClick={(e)=>handleSubmit(e)}>\n            <ButtonIcon/>\n          </IconButton>  \n        )\n      }\n    }\n    else{\n      return(\n      <div>\n          <BookmarkBorderIcon style={{cursor:\"pointer\", color:'grey'}} onClick={(event)=>handleOnClick(event)}/>\n          <SignIn setOpen={setOpen} open={open}/>\n          <SignUpPage setOpen={setOpen1} open={open1}/>\n      </div>\n      )\n    }\n}\n\nexport default BookmarkButton;"]},"metadata":{},"sourceType":"module"}