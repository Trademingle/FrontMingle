{"ast":null,"code":"import _slicedToArray from\"/Users/nandupokhrel/Desktop/BookTrades/trademingle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import Stepper from'@material-ui/core/Stepper';import Step from'@material-ui/core/Step';import{withStyles,makeStyles}from'@material-ui/core/styles';import StepButton from'@material-ui/core/StepButton';import Button from'@material-ui/core/Button';import Typography from'@material-ui/core/Typography';import ReviewPageOne from'./ReviewPageOne';import ReviewPageTwo from'./ReviewPageTwo';import ReviewPageThree from'./ReviewPageThree';import styles from'./review.module.css';import{useHistory}from'react-router-dom';import api from'../api/api';import moment from'moment';import swal from'sweetalert';var ContinueButton=withStyles(function(theme){return{root:{borderRadius:44,backgroundColor:'#2B64D2','&:hover':{backgroundColor:'#003ba0'}}};})(Button);var useStyles=makeStyles(function(theme){return{instructions:{marginTop:theme.spacing(1),marginBottom:theme.spacing(1)},continuebutton:{borderRadius:\"15px\"}};});function getSteps(){return['Rating','Write a review','Confirm'];}var reviewObj={};function getStepContent(stepIndex){switch(stepIndex){case 0:return/*#__PURE__*/React.createElement(ReviewPageOne,{data:reviewObj});case 1:return/*#__PURE__*/React.createElement(ReviewPageTwo,{data:reviewObj});case 2:return/*#__PURE__*/React.createElement(ReviewPageThree,{data:reviewObj});}}export default function ReviewPages(props){var classes=useStyles();var history=useHistory();var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),activeStep=_React$useState2[0],setActiveStep=_React$useState2[1];var steps=getSteps();var review_data=reviewObj;review_data.reviewDate=moment().format('YYYY-MM-DD');review_data.reviewRating=Math.round((review_data.Communication+review_data.Payments+review_data.Respect)/3);review_data.contractorId=props.contractorId;review_data.completedJobId=props.jobId;var handleNext=function handleNext(){setActiveStep(function(prevActiveStep){return prevActiveStep+1;});if(activeStep===2){// debugger\napi.addContractorReview(review_data).then(function(res){console.log('review was successfully posted!');}).catch(function(err){return console.log(err);});history.push('/homeOwnerActiveJobs/done');swal({title:\"Review Added!\",text:\"Review has been successfully Added!\",icon:\"success\",button:\"OK\"});}};var handleStep=function handleStep(step){return function(){setActiveStep(step);};};// const handleBack = () => {\n//   setActiveStep((prevActiveStep) => prevActiveStep - 1);\n// };\n// const handleReset = () => {\n//   setActiveStep(0);\n// };\nreturn/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"box\",{className:styles.mainbox},/*#__PURE__*/React.createElement(\"h1\",{className:styles.h1},\"Rate \",props.name),/*#__PURE__*/React.createElement(\"div\",{className:styles.reviewcontent},activeStep===steps.length?/*#__PURE__*/React.createElement(\"div\",null):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{className:classes.instructions},getStepContent(activeStep)))),/*#__PURE__*/React.createElement(\"box\",{className:styles.stepperbox},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ContinueButton,{className:styles.continue,onClick:handleNext},/*#__PURE__*/React.createElement(\"p\",{className:styles.continuetext},\"Continue\"))),/*#__PURE__*/React.createElement(Stepper,{nonLinear:true,className:styles.stepper,activeStep:activeStep,alternativeLabel:true},steps.map(function(label,index){return/*#__PURE__*/React.createElement(Step,{key:label},/*#__PURE__*/React.createElement(StepButton,{onClick:handleStep(index)},label));})))));}","map":{"version":3,"sources":["/Users/nandupokhrel/Desktop/BookTrades/trademingle/src/components/Review/ReviewPages.js"],"names":["React","Stepper","Step","withStyles","makeStyles","StepButton","Button","Typography","ReviewPageOne","ReviewPageTwo","ReviewPageThree","styles","useHistory","api","moment","swal","ContinueButton","theme","root","borderRadius","backgroundColor","useStyles","instructions","marginTop","spacing","marginBottom","continuebutton","getSteps","reviewObj","getStepContent","stepIndex","ReviewPages","props","classes","history","useState","activeStep","setActiveStep","steps","review_data","reviewDate","format","reviewRating","Math","round","Communication","Payments","Respect","contractorId","completedJobId","jobId","handleNext","prevActiveStep","addContractorReview","then","res","console","log","catch","err","push","title","text","icon","button","handleStep","step","mainbox","h1","name","reviewcontent","length","stepperbox","continue","continuetext","stepper","map","label","index"],"mappings":"yKAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,2BAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,OAASC,UAAT,CAAqBC,UAArB,KAAuC,0BAAvC,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAASC,UAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,GAAP,KAAgB,YAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,YAAjB,CAEA,GAAMC,CAAAA,cAAc,CAAGb,UAAU,CAAC,SAACc,KAAD,QAAY,CAC5CC,IAAI,CAAE,CACJC,YAAY,CAAC,EADT,CAEJC,eAAe,CAAE,SAFb,CAGJ,UAAW,CACTA,eAAe,CAAE,SADR,CAHP,CADsC,CAAZ,EAAD,CAAV,CAQnBd,MARmB,CAAvB,CAUA,GAAMe,CAAAA,SAAS,CAAGjB,UAAU,CAAC,SAACa,KAAD,QAAY,CACvCK,YAAY,CAAE,CACZC,SAAS,CAAEN,KAAK,CAACO,OAAN,CAAc,CAAd,CADC,CAEZC,YAAY,CAAER,KAAK,CAACO,OAAN,CAAc,CAAd,CAFF,CADyB,CAKvCE,cAAc,CAAE,CACdP,YAAY,CAAE,MADA,CALuB,CAAZ,EAAD,CAA5B,CAWA,QAASQ,CAAAA,QAAT,EAAoB,CAClB,MAAO,CAAC,QAAD,CAAW,gBAAX,CAA6B,SAA7B,CAAP,CACD,CAED,GAAMC,CAAAA,SAAS,CAAG,EAAlB,CAGA,QAASC,CAAAA,cAAT,CAAwBC,SAAxB,CAAmC,CACjC,OAAQA,SAAR,EACE,IAAK,EAAL,CACE,mBAAO,oBAAC,aAAD,EAAe,IAAI,CAAEF,SAArB,EAAP,CACF,IAAK,EAAL,CACE,mBAAO,oBAAC,aAAD,EAAe,IAAI,CAAEA,SAArB,EAAP,CACF,IAAK,EAAL,CACE,mBAAO,oBAAC,eAAD,EAAiB,IAAI,CAAEA,SAAvB,EAAP,CANJ,CAQD,CAED,cAAe,SAASG,CAAAA,WAAT,CAAqBC,KAArB,CAA4B,CACzC,GAAMC,CAAAA,OAAO,CAAGZ,SAAS,EAAzB,CACA,GAAMa,CAAAA,OAAO,CAAGtB,UAAU,EAA1B,CACA,oBAAoCZ,KAAK,CAACmC,QAAN,CAAe,CAAf,CAApC,oDAAOC,UAAP,qBAAmBC,aAAnB,qBACA,GAAMC,CAAAA,KAAK,CAAGX,QAAQ,EAAtB,CACA,GAAMY,CAAAA,WAAW,CAAGX,SAApB,CACAW,WAAW,CAACC,UAAZ,CAAyB1B,MAAM,GAAG2B,MAAT,CAAgB,YAAhB,CAAzB,CACAF,WAAW,CAACG,YAAZ,CAA2BC,IAAI,CAACC,KAAL,CAAW,CAACL,WAAW,CAACM,aAAZ,CAA4BN,WAAW,CAACO,QAAxC,CAAmDP,WAAW,CAACQ,OAAhE,EAA2E,CAAtF,CAA3B,CACAR,WAAW,CAACS,YAAZ,CAA2BhB,KAAK,CAACgB,YAAjC,CACAT,WAAW,CAACU,cAAZ,CAA6BjB,KAAK,CAACkB,KAAnC,CACA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBd,aAAa,CAAC,SAACe,cAAD,QAAoBA,CAAAA,cAAc,CAAG,CAArC,EAAD,CAAb,CACA,GAAIhB,UAAU,GAAK,CAAnB,CAAqB,CACnB;AACAvB,GAAG,CAACwC,mBAAJ,CAAwBd,WAAxB,EAAqCe,IAArC,CAA0C,SAAAC,GAAG,CAAI,CAC/CC,OAAO,CAACC,GAAR,CAAY,iCAAZ,EACD,CAFD,EAEGC,KAFH,CAES,SAAAC,GAAG,QAAIH,CAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ,CAAJ,EAFZ,EAGAzB,OAAO,CAAC0B,IAAR,CAAa,2BAAb,EACA7C,IAAI,CAAC,CACH8C,KAAK,CAAE,eADJ,CAEHC,IAAI,CAAE,qCAFH,CAGHC,IAAI,CAAE,SAHH,CAIHC,MAAM,CAAE,IAJL,CAAD,CAAJ,CAMD,CACF,CAfD,CAgBA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,IAAD,QAAU,WAAM,CACjC7B,aAAa,CAAC6B,IAAD,CAAb,CACD,CAFkB,EAAnB,CAGA;AACA;AACA;AAEA;AACA;AACA;AAEA,mBACE,4CACE,2BAAK,SAAS,CAAEvD,MAAM,CAACwD,OAAvB,eACE,0BAAI,SAAS,CAAExD,MAAM,CAACyD,EAAtB,UAAgCpC,KAAK,CAACqC,IAAtC,CADF,cAEE,2BAAK,SAAS,CAAE1D,MAAM,CAAC2D,aAAvB,EACGlC,UAAU,GAAKE,KAAK,CAACiC,MAArB,cACC,+BADD,cAIC,4CACE,oBAAC,UAAD,EAAY,SAAS,CAAEtC,OAAO,CAACX,YAA/B,EAA8CO,cAAc,CAACO,UAAD,CAA5D,CADF,CALJ,CAFF,cAaE,2BAAK,SAAS,CAAEzB,MAAM,CAAC6D,UAAvB,eACE,4CACA,oBAAC,cAAD,EAAgB,SAAS,CAAE7D,MAAM,CAAC8D,QAAlC,CAA4C,OAAO,CAAEtB,UAArD,eACI,yBAAG,SAAS,CAAExC,MAAM,CAAC+D,YAArB,aADJ,CADA,CADF,cASE,oBAAC,OAAD,EAAS,SAAS,KAAlB,CAAmB,SAAS,CAAE/D,MAAM,CAACgE,OAArC,CAA8C,UAAU,CAAEvC,UAA1D,CAAsE,gBAAgB,KAAtF,EACGE,KAAK,CAACsC,GAAN,CAAU,SAACC,KAAD,CAAQC,KAAR,qBACT,oBAAC,IAAD,EAAM,GAAG,CAAED,KAAX,eACE,oBAAC,UAAD,EAAY,OAAO,CAAEZ,UAAU,CAACa,KAAD,CAA/B,EACGD,KADH,CADF,CADS,EAAV,CADH,CATF,CAbF,CADF,CADF,CAqCD","sourcesContent":["import React from 'react';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport StepButton from '@material-ui/core/StepButton';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport ReviewPageOne from './ReviewPageOne';\nimport ReviewPageTwo from './ReviewPageTwo';\nimport ReviewPageThree from './ReviewPageThree';\nimport styles from './review.module.css';\nimport { useHistory} from 'react-router-dom';\nimport api from '../api/api';\nimport moment from 'moment';\nimport swal from 'sweetalert';\n\nconst ContinueButton = withStyles((theme) => ({\n  root: {\n    borderRadius:44,\n    backgroundColor: '#2B64D2',\n    '&:hover': {\n      backgroundColor: '#003ba0',\n    },\n  },\n}))(Button);\n\nconst useStyles = makeStyles((theme) => ({\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  continuebutton: {\n    borderRadius: \"15px\"\n  },\n}));\n\n\nfunction getSteps() {\n  return ['Rating', 'Write a review', 'Confirm'];\n}\n\nconst reviewObj = {}\n\n\nfunction getStepContent(stepIndex) {\n  switch (stepIndex) {\n    case 0:\n      return <ReviewPageOne data={reviewObj}/>;\n    case 1:\n      return <ReviewPageTwo data={reviewObj}/>;\n    case 2:\n      return <ReviewPageThree data={reviewObj}/>;\n  }\n}\n\nexport default function ReviewPages(props) {\n  const classes = useStyles();\n  const history = useHistory();\n  const [activeStep, setActiveStep] = React.useState(0);\n  const steps = getSteps();\n  const review_data = reviewObj;\n  review_data.reviewDate = moment().format('YYYY-MM-DD');\n  review_data.reviewRating = Math.round((review_data.Communication + review_data.Payments + review_data.Respect) / 3)\n  review_data.contractorId = props.contractorId\n  review_data.completedJobId = props.jobId\n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n    if (activeStep === 2){\n      // debugger\n      api.addContractorReview(review_data).then(res => {\n        console.log('review was successfully posted!');\n      }).catch(err => console.log(err))\n      history.push('/homeOwnerActiveJobs/done');\n      swal({\n        title: \"Review Added!\",\n        text: \"Review has been successfully Added!\",\n        icon: \"success\",\n        button: \"OK\",\n      });\n    }\n  };\n  const handleStep = (step) => () => {\n    setActiveStep(step);\n  };\n  // const handleBack = () => {\n  //   setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  // };\n\n  // const handleReset = () => {\n  //   setActiveStep(0);\n  // };\n\n  return (\n    <div>\n      <box className={styles.mainbox}>\n        <h1 className={styles.h1}>Rate {props.name}</h1>\n        <div className={styles.reviewcontent}>\n          {activeStep === steps.length ? (\n            <div>\n            </div>\n          ) : (\n            <div>\n              <Typography className={classes.instructions}>{getStepContent(activeStep)}</Typography>\n\n            </div>\n          )}\n        </div>\n        <box className={styles.stepperbox}>\n          <div >\n          <ContinueButton className={styles.continue} onClick={handleNext}>\n              <p className={styles.continuetext}>Continue</p>\n            </ContinueButton>\n            {/* <Button variant=\"contained\" color=\"primary\" onClick={handleNext}>\n              {activeStep === steps.length - 1 ? 'Finish' : 'Next'}\n            </Button> */}\n          </div>\n          <Stepper nonLinear className={styles.stepper} activeStep={activeStep} alternativeLabel>\n            {steps.map((label, index) => (\n              <Step key={label}>\n                <StepButton onClick={handleStep(index)} >\n                  {label}\n                </StepButton>\n              </Step>\n            ))}\n          </Stepper>\n        </box>\n      </box>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}