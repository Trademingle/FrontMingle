{"ast":null,"code":"import _slicedToArray from\"/Users/nandupokhrel/Desktop/BookTrades/trademingle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import styles from'./styles.module.css';import{useHistory}from'react-router-dom';import Tags from'./tags';import{Grid}from'@material-ui/core';import api from'../api/api';import CompleteButton from'../ResuableComponents/completeButton';var contentStyle={width:'350px',height:'203px',background:'#FFFFFF',borderRadius:'16px'};function JobPostingCompleted(props){var history=useHistory();// var jobid = props.id;\nvar handleOnSubmit=function handleOnSubmit(event){event.preventDefault();history.push({pathname:'/completedposting/'+props.id.toString()});//   debugger\n};var profileId=[];profileId['id']=props.userId;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userType=_useState2[0],setUserType=_useState2[1];var getUserType=function getUserType(){api.getUserType(profileId).then(function(res){setUserType(res.data);}).catch(function(err){return console.log(err);});};useEffect(function(){getUserType();},[props.receiver]);var handleLink=function handleLink(event){event.preventDefault();if(userType.usertype==='client'){history.push({pathname:'/ClientProfile/'+props.userId.toString()});}else if(userType.usertype==='contractor'){history.push({pathname:'/profile/'+props.userId.toString()});}else{};};var renderTags=function renderTags(){var i=0;var tagsCount=props.serviceList.length;var tempTags=[];while(i<tagsCount&&i<3){tempTags.push(/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(Tags,{className:styles.tag,tagname:props.serviceList[i]})));i+=1;};if(i>=3){tempTags.push(/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(Tags,{className:styles.tag,tagname:'View all'})));}return tempTags;};var text_truncate=function text_truncate(str){var length=40;if(str==null){str='';}if(str.length>length){return str.substring(0,length)+\"...\";}else{return str;}};return/*#__PURE__*/React.createElement(\"div\",{className:styles.jobbox},props.avatar===undefined?/*#__PURE__*/React.createElement(\"img\",{src:\"https://www.thermaxglobal.com/wp-content/uploads/2020/05/image-not-found.jpg\",className:styles.rectangle25,onClick:handleOnSubmit,alt:\"\"}):/*#__PURE__*/React.createElement(\"img\",{src:props.avatar,className:styles.rectangle25,onClick:handleOnSubmit,alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',justifyContent:'space-between'}},/*#__PURE__*/React.createElement(\"h1\",{className:styles.title,onClick:handleOnSubmit},text_truncate(props.title)),/*#__PURE__*/React.createElement(CompleteButton,{id:props.id,complete:props.complete})),/*#__PURE__*/React.createElement(\"box\",{className:styles.frame},/*#__PURE__*/React.createElement(\"p\",{className:styles.name,onClick:handleLink},props.name),/*#__PURE__*/React.createElement(\"p\",{className:styles.location,onClick:handleOnSubmit},/*#__PURE__*/React.createElement(\"span\",null,\"\\u2022\"),\" \",props.location)),/*#__PURE__*/React.createElement(\"box\",{className:styles.servicetagbox},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1,justify:\"left\"},renderTags())));};export default JobPostingCompleted;","map":{"version":3,"sources":["/Users/nandupokhrel/Desktop/BookTrades/trademingle/src/components/ContractorActiveJobsPage/jobpostingCompleted.js"],"names":["React","useEffect","useState","styles","useHistory","Tags","Grid","api","CompleteButton","contentStyle","width","height","background","borderRadius","JobPostingCompleted","props","history","handleOnSubmit","event","preventDefault","push","pathname","id","toString","profileId","userId","userType","setUserType","getUserType","then","res","data","catch","err","console","log","receiver","handleLink","usertype","renderTags","i","tagsCount","serviceList","length","tempTags","tag","text_truncate","str","substring","jobbox","avatar","undefined","rectangle25","display","justifyContent","title","complete","frame","name","location","servicetagbox"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport styles from './styles.module.css';\nimport { useHistory} from 'react-router-dom';\nimport Tags from './tags';\nimport { Grid } from '@material-ui/core';\nimport api from '../api/api';\nimport CompleteButton from '../ResuableComponents/completeButton';\n\nconst contentStyle = {\n    width: '350px',\n    height: '203px',\n    background: '#FFFFFF',\n    borderRadius: '16px',\n};\n\n\nfunction JobPostingCompleted(props) {\n    const history = useHistory();\n    // var jobid = props.id;\n    const handleOnSubmit = (event) => {\n      event.preventDefault();\n      history.push({\n        pathname: '/completedposting/' + props.id.toString(),\n      });\n    //   debugger\n\n    }\n  var profileId = [];\n  profileId['id'] = props.userId;\n  const [userType, setUserType] = useState([]);\n  const getUserType = () => {\n      api.getUserType(profileId).then(res => {\n        setUserType(res.data);\n      }).catch(err => console.log(err))\n  }\n  useEffect(() => {\n    getUserType();\n  },[props.receiver]);  \n  const handleLink = (event) =>{\n    event.preventDefault();\n    if (userType.usertype === 'client'){\n        history.push({\n            pathname: '/ClientProfile/' + props.userId.toString(),\n            });\n      }\n    else if(userType.usertype === 'contractor'){\n      history.push({\n          pathname: '/profile/' + props.userId.toString(),\n          });\n      }\n    else {};\n  };\n  const renderTags = () => {\n      let i = 0;\n      let tagsCount = props.serviceList.length;\n      let tempTags = [];\n      while (i < tagsCount  && i < 3) {\n        tempTags.push(<Grid item ><Tags className={styles.tag} tagname={props.serviceList[i]} /></Grid>);\n        i += 1;\n      };\n      if (i >= 3){tempTags.push(<Grid item ><Tags className={styles.tag} tagname={'View all'} /></Grid>);}\n      return tempTags;\n    };\n\n    const text_truncate = function(str) {\n      let length = 40;\n      if (str == null) {\n        str = '';\n      }\n      if (str.length > length) {\n        return str.substring(0, length ) + \"...\";\n      } else {\n        return str;\n      }\n    };\n  return (\n  <div className={styles.jobbox}>\n      {props.avatar === undefined \n        ?<img src='https://www.thermaxglobal.com/wp-content/uploads/2020/05/image-not-found.jpg' className={styles.rectangle25}  onClick={handleOnSubmit} alt=\"\"/>\n        :<img src={props.avatar} className={styles.rectangle25}  onClick={handleOnSubmit} alt=\"\"/>\n        }\n      <div style={{display:'flex', justifyContent:'space-between'}}>\n        <h1 className={styles.title}  onClick={handleOnSubmit}>{text_truncate(props.title)}</h1>\n        <CompleteButton id={props.id} complete={props.complete}/>\n      </div>\n      <box className={styles.frame} >\n          <p className={styles.name} onClick={handleLink}>{props.name}</p>\n          \n          <p className={styles.location} onClick={handleOnSubmit}><span>&#8226;</span> {props.location}</p>\n      </box>\n      <box className={styles.servicetagbox}>\n        <Grid container spacing={1} justify=\"left\">{renderTags()}</Grid>\n      </box>\n  </div> )\n};\n\nexport default JobPostingCompleted; \n"]},"metadata":{},"sourceType":"module"}